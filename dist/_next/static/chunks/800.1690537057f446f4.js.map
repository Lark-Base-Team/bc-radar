{"version":3,"file":"static/chunks/800.1690537057f446f4.js","mappings":"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AAkB,CAAClG,IAAI,CAACmG,EAC/B,EAEJ,CA8KF,CC7PO,IAAMG,EAAQ,IAAIxF,EAAM,CAC7BgF,iBAAkB,GAClBC,mBAAoB,EACtB,qCCLO,MACE,CACL,CACEQ,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,OAAQ,UAAW,UAAW,UAAW,UAAU,CACtEC,MAAO,IACT,EACA,CACED,MAAO,CACL,kBACA,mBACA,mBACA,iBACA,iBACA,kBACD,CACDC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAU,CACzEC,MAAO,IACT,EACA,CACED,MAAO,CACL,iBACA,kBACA,kBACA,kBACA,mBACA,mBACD,CACDC,MAAO,IACT,EACA,CACED,MAAO,CACL,kBACA,kBACA,kBACA,mBACA,mBACA,mBACD,CACDC,MAAO,KACT,EACA,CACED,MAAO,CACL,mBACA,mBACA,mBACA,qBACA,qBACA,qBACD,CACDC,MAAO,KACT,EACA,CACED,MAAO,CACL,kBACA,kBACA,kBACA,kBACA,mBACA,mBACD,CACDC,MAAO,KACT,EACA,CACED,MAAO,CACL,iBACA,kBACA,kBACA,kBACA,mBACA,mBACD,CACDC,MAAO,KACT,EACA,CACED,MAAO,CACL,iBACA,iBACA,iBACA,kBACA,mBACA,mBACD,CACDC,MAAO,KACT,EACA,CACED,MAAO,CACL,aACA,gBACA,gBACA,mBACA,mBACA,mBACD,CACDC,MAAO,KACT,EACD,CCpHH,IAAAC,EAAe,IACb,IAAMC,EAAYC,EAAYC,IAAI,CAAC,GAAU/B,EAAK2B,KAAK,GAAKK,GAC5D,MAAO,CACLC,MAAOJ,MAAAA,EAAAA,KAAAA,EAAAA,EAAWH,KAAK,CACvBQ,gBAAiB,sBACjBC,UAAW,CAAC,EACZC,MAAO,CACLD,UAAW,CACTF,MAAO,SACT,EACAI,aAAc,CACZJ,MAAO,SACT,CACF,EACAK,KAAM,CACJC,UAAW,CACTC,YAAa,GACf,EACAC,UAAW,CACTC,MAAO,GACT,EACAC,WAAY,IACZC,OAAQ,SACRC,OAAQ,EACV,EACAC,MAAO,CACLP,UAAW,CACTC,YAAa,GACf,EACAC,UAAW,CACTC,MAAO,GACT,EACAC,WAAY,IACZC,OAAQ,SACRC,OAAQ,EACV,EACAE,IAAK,CACHR,UAAW,CACTS,eAAgB,EAChBC,eAAgB,MAClB,CACF,EACAC,IAAK,CACHX,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAC,QAAS,CACPb,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAE,QAAS,CACPd,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAG,SAAU,CACRf,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAI,OAAQ,CACNhB,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAK,OAAQ,CACNjB,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAM,MAAO,CACLlB,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,CACF,EACAO,YAAa,CACXnB,UAAW,CACTN,MAAO,UACP0B,OAAQ,cACRR,YAAa,UACbS,aAAc,UACdpB,YAAa,GACf,CACF,EACAqB,MAAO,CACLtB,UAAW,CACTC,YAAa,EACbW,YAAa,MACf,EACAV,UAAW,CACTC,MAAO,IACPT,MAAO,SACT,EACAU,WAAY,IACZC,OAAQ,SACRC,OAAQ,GACRZ,MAAO,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACD,CACDP,MAAO,CACLO,MAAO,SACT,CACF,EACAzE,IAAK,CACH+E,UAAW,CACTuB,UAAW,UACXX,YAAa,UACbX,YAAa,EACf,EACAd,MAAO,CACLO,MAAO,SACT,EACA8B,SAAU,CACRxB,UAAW,CACTuB,UAAW,qBACXX,YAAa,UACbX,YAAa,CACf,EACAd,MAAO,CACLO,MAAO,gBACT,CACF,CACF,EACA+B,IAAK,CACHzB,UAAW,CACTuB,UAAW,UACXX,YAAa,UACbX,YAAa,EACf,EACAd,MAAO,CACLO,MAAO,SACT,EACA8B,SAAU,CACRxB,UAAW,CACTuB,UAAW,qBACXX,YAAa,UACbX,YAAa,CACf,EACAd,MAAO,CACLO,MAAO,gBACT,CACF,CACF,EACAgC,aAAc,CACZC,SAAU,CACRC,KAAM,GACN1B,UAAW,CACTR,MAAO,SACT,CACF,EACAmC,SAAU,CACRD,KAAM,GACN1B,UAAW,CACTR,MAAO,MACT,CACF,EACAoC,UAAW,CACTF,KAAM,GACNlC,MAAO,SACT,EACAqC,UAAW,CACTH,KAAM,GACN1B,UAAW,CACTR,MAAO,CAAC,UAAU,CAEtB,EACAsC,UAAW,CACTJ,KAAM,GACNK,UAAW,CACTvC,MAAO,CAAC,yBAA0B,yBAAyB,CAE/D,CACF,EACAwC,UAAW,CACTP,SAAU,CACRC,KAAM,GACN1B,UAAW,CACTR,MAAO,SACT,CACF,EACAmC,SAAU,CACRD,KAAM,GACN1B,UAAW,CACTR,MAAO,MACT,CACF,EACAoC,UAAW,CACTF,KAAM,GACNlC,MAAO,SACT,EACAqC,UAAW,CACTH,KAAM,GACN1B,UAAW,CACTR,MAAO,CAAC,UAAU,CAEtB,EACAsC,UAAW,CACTJ,KAAM,GACNK,UAAW,CACTvC,MAAO,CAAC,yBAA0B,yBAAyB,CAE/D,CACF,EACAyC,QAAS,CACPR,SAAU,CACRC,KAAM,GACN1B,UAAW,CACTR,MAAO,SACT,CACF,EACAmC,SAAU,CACRD,KAAM,GACN1B,UAAW,CACTR,MAAO,MACT,CACF,EACAoC,UAAW,CACTF,KAAM,GACNlC,MAAO,SACT,EACAqC,UAAW,CACTH,KAAM,GACN1B,UAAW,CACTR,MAAO,CAAC,UAAU,CAEtB,EACAsC,UAAW,CACTJ,KAAM,GACNK,UAAW,CACTvC,MAAO,CAAC,yBAA0B,yBAAyB,CAE/D,CACF,EACA0C,SAAU,CACRT,SAAU,CACRC,KAAM,GACN1B,UAAW,CACTR,MAAO,SACT,CACF,EACAmC,SAAU,CACRD,KAAM,GACN1B,UAAW,CACTR,MAAO,MACT,CACF,EACAoC,UAAW,CACTF,KAAM,GACNlC,MAAO,SACT,EACAqC,UAAW,CACTH,KAAM,GACN1B,UAAW,CACTR,MAAO,CAAC,UAAU,CAEtB,EACAsC,UAAW,CACTJ,KAAM,GACNK,UAAW,CACTvC,MAAO,CAAC,yBAA0B,yBAAyB,CAE/D,CACF,EACA2C,QAAS,CACPC,UAAW,CACT1B,YAAa,SACf,EACAY,SAAU,CACRc,UAAW,CACT1B,YAAa,SACf,CACF,CACF,EACA2B,OAAQ,CACN3C,UAAW,CACTF,MAAO,SACT,CACF,EACA8C,QAAS,CACPC,YAAa,CACXvC,UAAW,CACTR,MAAO,UACPS,MAAO,CACT,EACAuC,WAAY,CACVhD,MAAO,UACPS,MAAO,CACT,CACF,CACF,EACAwC,SAAU,CACRzC,UAAW,CACTR,MAAO,UACPS,MAAO,CACT,EACAH,UAAW,CACTN,MAAO,UACPO,YAAa,CACf,EACA2C,aAAc,CACZlD,MAAO,UACPkB,YAAa,UACbX,YAAa,EACf,EACA4C,gBAAiB,CACfnD,MAAO,UACPkB,YAAa,SACf,EACAzB,MAAO,CACLO,MAAO,SACT,EACA8B,SAAU,CACRxB,UAAW,CACTN,MAAO,SACT,EACAkD,aAAc,CACZlD,MAAO,UACPkB,YAAa,UACbX,YAAa,EACf,EACAd,MAAO,CACLO,MAAO,SACT,CACF,CACF,EACAoD,UAAW,CACTpD,MAAO,CAAC,UAAW,UAAU,EAE/BqD,SAAU,CACRpD,gBAAiB,sBACjBqD,oBAAqB,sBACrBC,YAAa,wBACbC,YAAa,UACbC,WAAY,OACZvD,UAAW,CACTF,MAAO,SACT,CACF,EACA0D,UAAW,CACTjE,MAAO,CACLO,MAAO,SACT,EACA8B,SAAU,CACRrC,MAAO,CACLO,MAAO,SACT,CACF,CACF,CACF,CACF,EC1WA2D,EAAeC,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","sources":["webpack://_N_E/./libs/bs-sdk/Emitter.ts","webpack://_N_E/./libs/bs-sdk/shared.ts","webpack://_N_E/./libs/bs-sdk/BsSdk.ts","webpack://_N_E/./views/Home/factory.tsx","webpack://_N_E/./config/options.ts","webpack://_N_E/./components/echarts/themes/bc-dark.ts","webpack://_N_E/./components/echarts/index.tsx","webpack://_N_E/./libs/helper/createEChartsOption.tsx","webpack://_N_E/./views/Home/ViewPanel.tsx","webpack://_N_E/./components/config-ui/item/ConfigString.tsx","webpack://_N_E/./components/config-ui/item/ConfigSelectTabs.tsx","webpack://_N_E/./components/config-ui/item/ConfigSelectTheme.tsx","webpack://_N_E/./components/config-ui/item/ConfigCheckboxes.tsx","webpack://_N_E/./components/config-ui/item/ConfigLine.tsx","webpack://_N_E/./components/config-ui/utils/mountPortal.tsx","webpack://_N_E/./components/config-ui/item/ConfigDownSelect.tsx","webpack://_N_E/./components/config-ui/utils/If.tsx","webpack://_N_E/./components/config-ui/item/ConfigFieldList.tsx","webpack://_N_E/./components/config-ui/item/ConfigSelect.tsx","webpack://_N_E/./components/config-ui/item/ConfigCheckbox.tsx","webpack://_N_E/./components/config-ui/ConfigRegister.tsx","webpack://_N_E/./components/config-ui/item/ConfigObject.tsx","webpack://_N_E/./components/config-ui/index.tsx","webpack://_N_E/./libs/helper/config-ui.tsx","webpack://_N_E/./components/config-ui/options.ts","webpack://_N_E/./views/Home/ConfigPanel.tsx","webpack://_N_E/./views/Home/index.tsx"],"sourcesContent":["import { ParamsType } from \"./typestools\";\n\nexport class Emitter<CB extends (...args: any[]) => void> {\n  private events = new Set<CB>();\n  private lastEmitArgs: ParamsType<CB> | undefined;\n  private timer: any;\n  constructor(private debounce?: number | undefined) {}\n\n  size() {\n    return this.events.size;\n  }\n\n  emitSync(...args: ParamsType<CB>) {\n    const p: void[] = [];\n    this.events.forEach((cb) => {\n      const lastCall = (cb as any).lastCall ?? 0;\n      const interval = (cb as any).interval;\n      if (Date.now() - lastCall < interval) {\n        return;\n      }\n      (cb as any).lastCall = Date.now();\n      p.push(cb(...args));\n    });\n    return p;\n  }\n\n  emitLifeCycle(...args: ParamsType<CB>) {\n    this.lastEmitArgs = args;\n    return Promise.resolve().then(() => {\n      try {\n        this.emitSync(...args);\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    });\n  }\n\n  emit(...args: ParamsType<CB>) {\n    return new Promise<void>((resolve) => {\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n      this.timer = setTimeout(() => {\n        try {\n          this.emitSync(...args);\n          resolve();\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }, this.debounce);\n    });\n  }\n\n  on(cb: CB, interval = 0) {\n    (cb as any).interval = interval;\n    if (this.lastEmitArgs) {\n      cb(...this.lastEmitArgs);\n    }\n    this.events.add(cb);\n    return () => {\n      this.off(cb);\n    };\n  }\n\n  wait() {\n    return new Promise<ParamsType<CB>>((resolve) => {\n      const cb = (...args: ParamsType<CB>) => {\n        resolve(args);\n        clear();\n      };\n      const clear = this.on(cb as CB);\n    });\n  }\n\n  off(cb: CB) {\n    this.events.delete(cb);\n  }\n\n  destroy() {\n    this.events.clear();\n  }\n}\n","\"use client\";\nimport {\n  FieldType,\n  type IFieldMeta,\n  type IOpenAttachment,\n  type IRecord,\n} from \"@lark-base-open/js-sdk\";\nimport { format } from \"date-fns\";\nimport { useEffect, useState } from \"react\";\n\nexport async function fileToIOpenAttachment(\n  base: any,\n  file: File\n): Promise<IOpenAttachment> {\n  const tokens = await base.batchUploadFile([file]);\n  return {\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    token: tokens[0],\n    timeStamp: file.lastModified,\n  };\n}\n// function downloadFile(file: Blob | MediaSource) {\n//   const downloadLink = document.createElement(\"a\");\n//   downloadLink.href = URL.createObjectURL(file);\n//   downloadLink.download = file.name;\n//   downloadLink.click();\n// }\nexport function fileToURL(file: Blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n    reader.onerror = (error) => {\n      reject(error);\n    };\n    reader.readAsDataURL(file);\n  });\n}\nexport async function canvasToFile(\n  canvas: HTMLCanvasElement,\n  fileName: string,\n  fileType = \"image/png\"\n) {\n  // 获取Canvas上的图像数据（这里假设图像数据为DataURL）\n  // const imageDataURL = canvas.toDataURL(fileType);\n\n  // // 将DataURL转换为Blob对象\n  // const blob = dataURLToBlob(imageDataURL);\n\n  const blob: Blob = await new Promise<Blob>((resolve, reject) => {\n    canvas.toBlob(\n      (blob) => {\n        if (!blob) return reject(new Error(\"canvas to blob error\"));\n        resolve(blob);\n      },\n      fileType,\n      1\n    );\n  });\n\n  // 创建File对象\n  const file = new File([blob], fileName, { type: fileType });\n\n  return file;\n}\n// 将DataURL转换为Blob对象的辅助函数\nfunction dataURLToBlob(dataURL: string) {\n  const byteString = atob(dataURL.split(\",\")[1]);\n  const mimeString = dataURL.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n  const arrayBuffer = new ArrayBuffer(byteString.length);\n  const uint8Array = new Uint8Array(arrayBuffer);\n  for (let i = 0; i < byteString.length; i++) {\n    uint8Array[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([arrayBuffer], { type: mimeString });\n}\n\nexport function base64ToFile(\n  base64: string,\n  filename: string,\n  mimeType: string\n) {\n  const arr = base64.split(\",\");\n  const mime = arr[0].match(/:(.*?);/)![1];\n  const bstr = atob(arr[1]);\n  let n = bstr.length;\n  const u8arr = new Uint8Array(n);\n  // eslint-disable-next-line no-plusplus\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n}\nexport function downloadFile(file: File) {\n  const downloadLink = document.createElement(\"a\");\n  downloadLink.href = URL.createObjectURL(file);\n  downloadLink.download = file.name;\n  downloadLink.click();\n}\n\nexport function urlToFile(url: string, filename: string, mimeType?: string) {\n  return fetch(url)\n    .then((res) => res.blob())\n    .then(\n      (blob) => new File([blob], filename, { type: mimeType ?? blob.type })\n    );\n}\n\nexport function fileExt(file: string, isDot = true) {\n  const extIdx = file.lastIndexOf(\".\");\n  const [name, ext] =\n    extIdx === -1\n      ? [file, undefined]\n      : [file.slice(0, extIdx), file.slice(extIdx + 1)];\n  return [name, ext ? (isDot ? \".\" : \"\") + ext.toLowerCase() : undefined];\n}\n\nexport function smartFileSizeDisplay(b: number): string {\n  const kb = b / 1024;\n  if (kb < 1) {\n    return b + \"B\";\n  }\n  const mb = kb / 1024;\n  if (mb < 1) {\n    return kb.toFixed(2) + \"KB\";\n  }\n  const gb = mb / 1024;\n  if (gb < 1) {\n    return mb.toFixed(2) + \"MB\";\n  }\n  return gb.toFixed(2) + \"GB\";\n}\n\nexport function smartTimestampDisplay(timestamp: number): string {\n  const date = new Date(timestamp);\n  // const now = new Date();\n  // const diff = now.getTime() - date.getTime();\n  // if (diff < 1000) {\n  //   return \"刚刚\";\n  // }\n  // if (diff < 60 * 1000) {\n  //   return Math.floor(diff / 1000) + \"秒前\";\n  // }\n  // if (diff < 60 * 60 * 1000) {\n  //   return Math.floor(diff / 1000 / 60) + \"分钟前\";\n  // }\n  // if (diff < 24 * 60 * 60 * 1000) {\n  //   return Math.floor(diff / 1000 / 60 / 60) + \"小时前\";\n  // }\n  // if (diff < 7 * 24 * 60 * 60 * 1000) {\n  //   return Math.floor(diff / 1000 / 60 / 60 / 24) + \"天前\";\n  // }\n  return date.toLocaleString();\n}\n\nexport function copyText(url: string) {\n  const input = document.createElement(\"input\");\n  input.value = url;\n  document.body.appendChild(input);\n  input.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(input);\n}\n\nexport function splitFilename(url: string) {\n  const idx = url.lastIndexOf(\"/\");\n  const idx2 = url.lastIndexOf(\"?\");\n  const name = url.slice(idx + 1, idx2 === -1 ? undefined : idx2);\n  return name;\n}\n\nlet isInit = new Map();\nconst initState = (key: string, state: any) => {\n  if (isInit.has(key)) {\n    return isInit.get(key);\n  }\n  const saved = localStorage.getItem(key);\n  const init = saved ? JSON.parse(saved) : state;\n  isInit.set(key, init);\n  return init;\n};\n\nexport function useKeepState<T>(state: T, id = \"default\") {\n  const key = `keep-state-${id}`;\n  const [data, setData] = useState(initState(key, state));\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(data));\n  }, [data, key]);\n\n  return [data, setData] as const;\n}\n\nexport function useDynKeep<T>(state: T) {\n  const [data, setData] = useState(state);\n\n  useEffect(() => {\n    setData(state);\n  }, [state]);\n\n  const save = (id: string) => {\n    localStorage.setItem(id, JSON.stringify(data));\n  };\n\n  const load = (id: string) => {\n    const saved = localStorage.getItem(id);\n    if (saved) {\n      setData(JSON.parse(saved));\n    }\n  };\n\n  return [data, setData, load, save] as const;\n}\n\nexport function transDisplayRecord(fields: IFieldMeta[], record: IRecord) {\n  const obj: any = {};\n\n  fields.forEach((field) => {\n    const cell = record.fields[field.id] as any;\n\n    if (\n      field.type === FieldType.DateTime &&\n      \"dateFormat\" in field.property &&\n      cell\n    ) {\n      obj[field.id] = format(cell, field.property?.dateFormat);\n      obj[\"ts_\" + field.name] = cell;\n    } else if (field.type === FieldType.Url && cell) {\n      obj[field.id] = cell[0]?.link;\n    } else {\n      obj[field.id] =\n        typeof cell === \"object\"\n          ? cell?.text ??\n            cell\n              ?.map?.((item: any) => item?.text ?? item?.name)\n              .filter((item: any) => item)\n              .join(\",\")\n          : cell;\n    }\n    obj._raw_ = record.fields;\n  });\n  return obj;\n}\n\nexport function transFieldsMap(fields: IFieldMeta[]) {\n  const fieldsMapName: any = {};\n  const fieldsMapId: any = {};\n\n  fields.forEach((item) => {\n    fieldsMapId[item.id] = item.name;\n    fieldsMapName[item.name] = item.id;\n  });\n\n  return {\n    fieldsMapName,\n    fieldsMapId,\n  };\n}\n","import {\n  IEventCbCtx,\n  bitable,\n  Selection,\n  ITable,\n  IField,\n  IGetRecordsParams,\n  IRecord,\n  IFieldMeta,\n  type IView,\n  type IConfig,\n  type IDataCondition,\n  type IData,\n} from \"@lark-base-open/js-sdk\";\nimport { format } from \"date-fns\";\nimport { Emitter } from \"./Emitter\";\nimport { transDisplayRecord } from \"./shared\";\n\nexport type SelectionChangeEmitter = (event: IEventCbCtx<Selection>) => any;\nexport type DashDataChangeEmitter = (event: IEventCbCtx<IData>) => any;\nexport type DashConfigChangeEmitter = (event: IEventCbCtx<IConfig>) => any;\nexport type InitEmitter = (sdk: BsSdk) => any;\n\nexport interface BIField {\n  id: string;\n  name: string;\n  type: IFieldMeta[\"type\"];\n  raw?: IFieldMeta;\n}\n\nexport interface BITable {\n  id: string;\n  name: string;\n  raw?: ITable;\n}\n\nexport interface BIView {\n  id: string;\n  name: string;\n  raw?: IView;\n}\n\nexport class BsSdk {\n  public readonly bitable = bitable;\n  public readonly base = bitable.base;\n  public activeTable: ITable | undefined;\n  // public readonly initEmitter = new Emitter<InitEmitter>();\n  public readonly emSelectionChange = new Emitter<SelectionChangeEmitter>();\n  public readonly emDashDataChange = new Emitter<DashDataChangeEmitter>(1500);\n  public readonly emDashConfigChange = new Emitter<DashConfigChangeEmitter>(\n    1500\n  );\n\n  constructor({\n    onSelectionChange = false,\n    immediatelySelectionChange = true,\n    onDashDataChange = false,\n    onDashConfigChange = false,\n  } = {}) {\n    if (onSelectionChange) {\n      this.base.onSelectionChange(async (event) => {\n        this.activeTable = undefined;\n        this.emSelectionChange.emitLifeCycle(event);\n      });\n    }\n    if (immediatelySelectionChange && onSelectionChange) {\n      this.getSelection().then((selection) => {\n        this.emSelectionChange.emitSync({ data: selection });\n      });\n    }\n\n    if (onDashDataChange) {\n      this.bitable.dashboard.onDataChange((event) => {\n        this.emDashDataChange.emit(event);\n      });\n    }\n    if (onDashConfigChange) {\n      this.bitable.dashboard.onConfigChange((event) => {\n        this.emDashConfigChange.emit(event);\n      });\n    }\n  }\n\n  saveConfig(config: IConfig) {\n    return this.bitable.dashboard.saveConfig(config);\n  }\n\n  getConfig() {\n    return this.bitable.dashboard.getConfig();\n  }\n\n  getData() {\n    return this.bitable.dashboard.getData();\n  }\n\n  getPreviewData(dataCondition: IDataCondition) {\n    return this.bitable.dashboard.getPreviewData(dataCondition);\n  }\n\n  getDashState() {\n    return this.bitable.dashboard.state;\n  }\n\n  triggerDashRendered() {\n    return this.bitable.dashboard.setRendered();\n  }\n\n  async getRecordIds(table?: ITable) {\n    if (!table) table = await this.getActiveTable();\n    return await table.getRecordIdList();\n  }\n\n  async getRecordById(table: ITable, recordId: string) {\n    return await table.getRecordById(recordId);\n  }\n\n  async getActiveTable() {\n    if (this.activeTable) return this.activeTable;\n    this.activeTable = await bitable.base.getActiveTable();\n    return this.activeTable;\n  }\n\n  async getTableList() {\n    return await Promise.all(\n      (\n        await bitable.base.getTableList()\n      ).map(async (table) => {\n        const name = await table.getName();\n        const id = table.id;\n        return { id, name, raw: table } as BITable;\n      })\n    );\n  }\n\n  async getViewList(tableId: string) {\n    const table = await this.getTableById(tableId);\n    const viewList = (await table.raw?.getViewList()) || [];\n    return await Promise.all(\n      viewList.map(async (view) => {\n        const name = await view.getName();\n        const id = view.id;\n        return { id, name, raw: view } as BIView;\n      })\n    );\n  }\n\n  async getTableById(tableId: string) {\n    const table = await bitable.base.getTableById(tableId);\n    return {\n      id: table.id,\n      name: await table.getName(),\n      raw: table,\n    } as BITable;\n  }\n\n  // async getFieldList(table: ITable) {\n  //   const fieldList: BIField[] = await table.getFieldList();\n  //   for (let i = 0; i < fieldList.length; i++) {\n  //     const field = fieldList[i];\n  //     field.name = await field.getName();\n  //   }\n  //   return fieldList;\n  // }\n\n  async getFiledListByViewId(tableId: string, viewId: string) {\n    const table = await this.getTableById(tableId);\n    const view = await table.raw?.getViewById(viewId);\n    const fieldList: BIField[] = ((await view?.getFieldMetaList()) ?? []).map(\n      (field) => {\n        return {\n          name: field.name,\n          id: field.id,\n          type: field.type,\n          raw: field,\n        } as BIField;\n      }\n    );\n    return fieldList;\n  }\n\n  async getSelection(): Promise<Selection> {\n    return await bitable.base.getSelection();\n  }\n\n  async getSelectionQuery(selection: Partial<Selection>) {\n    const table = selection.tableId\n      ? await this.base.getTableById(selection.tableId)\n      : undefined;\n    const result = {\n      table: table,\n      view: selection.viewId\n        ? await table?.getViewById(selection.viewId)\n        : undefined,\n      field: selection.fieldId\n        ? await table?.getFieldById(selection.fieldId)\n        : undefined,\n      record: selection.recordId\n        ? await table?.getRecordById(selection.recordId)\n        : undefined,\n    };\n    return result;\n  }\n\n  async getSelection2({\n    viewId = false,\n    fieldId = false,\n    recordId = false,\n  } = {}) {\n    const selection = await this.getSelection();\n    return await this.getSelectionQuery({\n      viewId: viewId ? selection.viewId : undefined,\n      fieldId: fieldId ? selection.fieldId : undefined,\n      recordId: recordId ? selection.recordId : undefined,\n    });\n  }\n\n  async getRecordList(table: ITable, filter?: IGetRecordsParams) {\n    let pageToken;\n    const records: IRecord[] = [];\n\n    while (true) {\n      const res = await table.getRecords({\n        pageSize: 5000,\n        ...filter,\n        pageToken,\n      });\n      records.push(...res.records);\n      pageToken = res.pageToken;\n      if (!res.hasMore) {\n        break;\n      }\n    }\n\n    return records;\n  }\n\n  async getDisplayRecordList(\n    table: ITable,\n    fields: IFieldMeta[],\n    filter?: IGetRecordsParams\n  ) {\n    const list = await this.getRecordList(table, filter);\n    console.log(\"fields:\", fields);\n\n    const data = [];\n    for (let i = 0; i < list.length; i++) {\n      const item = list[i];\n      data.push({\n        _id: item.recordId,\n        ...transDisplayRecord(fields, item),\n      });\n    }\n\n    return data;\n  }\n}\n","import { BsSdk } from \"@/libs/bs-sdk/BsSdk\";\n\nexport const bsSdk = new BsSdk({\n  onDashDataChange: true,\n  onDashConfigChange: true,\n});\n","export const theme = {\n  light: [\n    {\n      label: [\"#2e65d1\", \"#50cefb\", \"#935af6\", \"#fad355\", \"#f54a45\", \"#ffa53d\"],\n      value: \"p1\",\n    },\n    {\n      label: [\"#2e65d1\", \"#50cefb\", \"#14e1c6\", \"#62d256\", \"#c3dd40\", \"#fad355\"],\n      value: \"p2\",\n    },\n    {\n      label: [\"#3370ff\", \"#f80\", \"#50cefb\", \"#fad355\", \"#62d256\", \"#8f959e\"],\n      value: \"p3\",\n    },\n    {\n      label: [\n        \"rgb(83,131,241)\",\n        \"rgb(235,107,103)\",\n        \"rgb(187,191,196)\",\n        \"rgb(58,92,169)\",\n        \"rgb(165,75,72)\",\n        \"rgb(31,215,191)\",\n      ],\n      value: \"p4\",\n    },\n    {\n      label: [\"#2e65d1\", \"#f54a45\", \"#8f959e\", \"#4954e6\", \"#00d6b9\", \"#935af6\"],\n      value: \"p5\",\n    },\n    {\n      label: [\"#bacefd\", \"#d9f3fd\", \"#14e1c6\", \"#62d256\", \"#eef6c6\", \"#f8e6ab\"],\n      value: \"p6\",\n    },\n    {\n      label: [\"#0f8575\", \"#10a893\", \"#3370eb\", \"#a575fa\", \"#8c55ec\", \"#6c39c6\"],\n      value: \"p7\",\n    },\n    {\n      label: [\"#1099cc\", \"#4c88ff\", \"#2655b6\", \"#fc94cf\", \"#ed77ba\", \"#c24a8e\"],\n      value: \"p8\",\n    },\n    {\n      label: [\n        \"rgb(15,87,255)\",\n        \"rgb(43,107,255)\",\n        \"rgb(71,126,255)\",\n        \"rgb(99,146,255)\",\n        \"rgb(128,166,255)\",\n        \"rgb(184,205,255)\",\n      ],\n      value: \"p9\",\n    },\n    {\n      label: [\n        \"rgb(20,192,255)\",\n        \"rgb(48,200,255)\",\n        \"rgb(75,207,255)\",\n        \"rgb(102,214,255)\",\n        \"rgb(129,221,255)\",\n        \"rgb(184,236,255)\",\n      ],\n      value: \"p10\",\n    },\n    {\n      label: [\n        \"rgb(52, 199, 35)\",\n        \"rgb(69, 219, 53)\",\n        \"rgb(99, 225, 84)\",\n        \"rgb(128, 231, 116)\",\n        \"rgb(157, 236, 148)\",\n        \"rgb(215, 247, 212)\",\n      ],\n      value: \"p11\",\n    },\n    {\n      label: [\n        \"rgb(255,198,10)\",\n        \"rgb(255,203,34)\",\n        \"rgb(255,209,58)\",\n        \"rgb(255,215,82)\",\n        \"rgb(255,220,105)\",\n        \"rgb(255,231,153)\",\n      ],\n      value: \"p12\",\n    },\n    {\n      label: [\n        \"rgb(255,136,0)\",\n        \"rgb(255,149,29)\",\n        \"rgb(255,163,58)\",\n        \"rgb(255,176,87)\",\n        \"rgb(255,190,116)\",\n        \"rgb(255,217,173)\",\n      ],\n      value: \"p13\",\n    },\n    {\n      label: [\n        \"rgb(255,23,15)\",\n        \"rgb(255,50,43)\",\n        \"rgb(255,78,71)\",\n        \"rgb(255,105,99)\",\n        \"rgb(255,132,128)\",\n        \"rgb(255,186,184)\",\n      ],\n      value: \"p14\",\n    },\n    {\n      label: [\n        \"rgb(0,0,0)\",\n        \"rgb(34,34,34)\",\n        \"rgb(68,68,68)\",\n        \"rgb(102,102,102)\",\n        \"rgb(136,136,136)\",\n        \"rgb(204,204,204)\",\n      ],\n      value: \"p15\",\n    },\n  ],\n  dark: [\n    {\n      label: [\"#2e65d1\", \"#50cefb\", \"#935af6\", \"#fad355\", \"#f54a45\", \"#ffa53d\"],\n      value: \"p1\",\n    },\n    {\n      label: [\"#2e65d1\", \"#50cefb\", \"#14e1c6\", \"#62d256\", \"#c3dd40\", \"#fad355\"],\n      value: \"p2\",\n    },\n    {\n      label: [\"#3370ff\", \"#f80\", \"#50cefb\", \"#fad355\", \"#62d256\", \"#8f959e\"],\n      value: \"p3\",\n    },\n    {\n      label: [\n        \"rgb(54, 104, 201)\",\n        \"rgb(196, 77, 73)\",\n        \"rgb(95, 95, 95)\",\n        \"rgb(38, 73, 141)\",\n        \"rgb(137, 54, 51)\",\n        \"rgb(62, 178, 162)\",\n      ],\n      value: \"p4\",\n    },\n    {\n      label: [\"#2e65d1\", \"#f54a45\", \"#8f959e\", \"#4954e6\", \"#00d6b9\", \"#935af6\"],\n      value: \"p5\",\n    },\n    {\n      label: [\"#bacefd\", \"#d9f3fd\", \"#14e1c6\", \"#62d256\", \"#eef6c6\", \"#f8e6ab\"],\n      value: \"p6\",\n    },\n    {\n      label: [\"#0f8575\", \"#10a893\", \"#3370eb\", \"#a575fa\", \"#8c55ec\", \"#6c39c6\"],\n      value: \"p7\",\n    },\n    {\n      label: [\"#1099cc\", \"#4c88ff\", \"#2655b6\", \"#fc94cf\", \"#ed77ba\", \"#c24a8e\"],\n      value: \"p8\",\n    },\n    {\n      label: [\n        \"rgb(15,87,255)\",\n        \"rgb(43,107,255)\",\n        \"rgb(71,126,255)\",\n        \"rgb(99,146,255)\",\n        \"rgb(128,166,255)\",\n        \"rgb(184,205,255)\",\n      ],\n      value: \"p9\",\n    },\n    {\n      label: [\n        \"rgb(20,192,255)\",\n        \"rgb(48,200,255)\",\n        \"rgb(75,207,255)\",\n        \"rgb(102,214,255)\",\n        \"rgb(129,221,255)\",\n        \"rgb(184,236,255)\",\n      ],\n      value: \"p10\",\n    },\n    {\n      label: [\n        \"rgb(52, 199, 35)\",\n        \"rgb(69, 219, 53)\",\n        \"rgb(99, 225, 84)\",\n        \"rgb(128, 231, 116)\",\n        \"rgb(157, 236, 148)\",\n        \"rgb(215, 247, 212)\",\n      ],\n      value: \"p11\",\n    },\n    {\n      label: [\n        \"rgb(255,198,10)\",\n        \"rgb(255,203,34)\",\n        \"rgb(255,209,58)\",\n        \"rgb(255,215,82)\",\n        \"rgb(255,220,105)\",\n        \"rgb(255,231,153)\",\n      ],\n      value: \"p12\",\n    },\n    {\n      label: [\n        \"rgb(255,136,0)\",\n        \"rgb(255,149,29)\",\n        \"rgb(255,163,58)\",\n        \"rgb(255,176,87)\",\n        \"rgb(255,190,116)\",\n        \"rgb(255,217,173)\",\n      ],\n      value: \"p13\",\n    },\n    {\n      label: [\n        \"rgb(255,23,15)\",\n        \"rgb(255,50,43)\",\n        \"rgb(255,78,71)\",\n        \"rgb(255,105,99)\",\n        \"rgb(255,132,128)\",\n        \"rgb(255,186,184)\",\n      ],\n      value: \"p14\",\n    },\n    {\n      label: [\n        \"rgb(0,0,0)\",\n        \"rgb(34,34,34)\",\n        \"rgb(68,68,68)\",\n        \"rgb(102,102,102)\",\n        \"rgb(136,136,136)\",\n        \"rgb(204,204,204)\",\n      ],\n      value: \"p15\",\n    },\n  ],\n};\n","import { theme } from \"@/config/options\";\n\nexport default (themeKey: string) => {\n  const themeItem = theme.light.find((item) => item.value === themeKey);\n  return {\n    color: themeItem?.label,\n    backgroundColor: \"rgba(255,255,255,0)\",\n    textStyle: {},\n    title: {\n      textStyle: {\n        color: \"#ffffff\",\n      },\n      subtextStyle: {\n        color: \"#dddddd\",\n      },\n    },\n    line: {\n      itemStyle: {\n        borderWidth: \"4\",\n      },\n      lineStyle: {\n        width: \"3\",\n      },\n      symbolSize: \"0\",\n      symbol: \"circle\",\n      smooth: true,\n    },\n    radar: {\n      itemStyle: {\n        borderWidth: \"4\",\n      },\n      lineStyle: {\n        width: \"3\",\n      },\n      symbolSize: \"0\",\n      symbol: \"circle\",\n      smooth: true,\n    },\n    bar: {\n      itemStyle: {\n        barBorderWidth: 0,\n        barBorderColor: \"#ccc\",\n      },\n    },\n    pie: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    scatter: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    boxplot: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    parallel: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    sankey: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    funnel: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    gauge: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n    },\n    candlestick: {\n      itemStyle: {\n        color: \"#fc97af\",\n        color0: \"transparent\",\n        borderColor: \"#fc97af\",\n        borderColor0: \"#87f7cf\",\n        borderWidth: \"2\",\n      },\n    },\n    graph: {\n      itemStyle: {\n        borderWidth: 0,\n        borderColor: \"#ccc\",\n      },\n      lineStyle: {\n        width: \"1\",\n        color: \"#ffffff\",\n      },\n      symbolSize: \"0\",\n      symbol: \"circle\",\n      smooth: true,\n      color: [\n        \"#fc97af\",\n        \"#87f7cf\",\n        \"#f7f494\",\n        \"#72ccff\",\n        \"#f7c5a0\",\n        \"#d4a4eb\",\n        \"#d2f5a6\",\n        \"#76f2f2\",\n      ],\n      label: {\n        color: \"#293441\",\n      },\n    },\n    map: {\n      itemStyle: {\n        areaColor: \"#f3f3f3\",\n        borderColor: \"#999999\",\n        borderWidth: 0.5,\n      },\n      label: {\n        color: \"#893448\",\n      },\n      emphasis: {\n        itemStyle: {\n          areaColor: \"rgba(255,178,72,1)\",\n          borderColor: \"#eb8146\",\n          borderWidth: 1,\n        },\n        label: {\n          color: \"rgb(137,52,72)\",\n        },\n      },\n    },\n    geo: {\n      itemStyle: {\n        areaColor: \"#f3f3f3\",\n        borderColor: \"#999999\",\n        borderWidth: 0.5,\n      },\n      label: {\n        color: \"#893448\",\n      },\n      emphasis: {\n        itemStyle: {\n          areaColor: \"rgba(255,178,72,1)\",\n          borderColor: \"#eb8146\",\n          borderWidth: 1,\n        },\n        label: {\n          color: \"rgb(137,52,72)\",\n        },\n      },\n    },\n    categoryAxis: {\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: \"#666666\",\n        },\n      },\n      axisTick: {\n        show: false,\n        lineStyle: {\n          color: \"#333\",\n        },\n      },\n      axisLabel: {\n        show: true,\n        color: \"#aaaaaa\",\n      },\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: [\"#e6e6e6\"],\n        },\n      },\n      splitArea: {\n        show: false,\n        areaStyle: {\n          color: [\"rgba(250,250,250,0.05)\", \"rgba(200,200,200,0.02)\"],\n        },\n      },\n    },\n    valueAxis: {\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: \"#666666\",\n        },\n      },\n      axisTick: {\n        show: false,\n        lineStyle: {\n          color: \"#333\",\n        },\n      },\n      axisLabel: {\n        show: true,\n        color: \"#aaaaaa\",\n      },\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: [\"#e6e6e6\"],\n        },\n      },\n      splitArea: {\n        show: false,\n        areaStyle: {\n          color: [\"rgba(250,250,250,0.05)\", \"rgba(200,200,200,0.02)\"],\n        },\n      },\n    },\n    logAxis: {\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: \"#666666\",\n        },\n      },\n      axisTick: {\n        show: false,\n        lineStyle: {\n          color: \"#333\",\n        },\n      },\n      axisLabel: {\n        show: true,\n        color: \"#aaaaaa\",\n      },\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: [\"#e6e6e6\"],\n        },\n      },\n      splitArea: {\n        show: false,\n        areaStyle: {\n          color: [\"rgba(250,250,250,0.05)\", \"rgba(200,200,200,0.02)\"],\n        },\n      },\n    },\n    timeAxis: {\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: \"#666666\",\n        },\n      },\n      axisTick: {\n        show: false,\n        lineStyle: {\n          color: \"#333\",\n        },\n      },\n      axisLabel: {\n        show: true,\n        color: \"#aaaaaa\",\n      },\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: [\"#e6e6e6\"],\n        },\n      },\n      splitArea: {\n        show: false,\n        areaStyle: {\n          color: [\"rgba(250,250,250,0.05)\", \"rgba(200,200,200,0.02)\"],\n        },\n      },\n    },\n    toolbox: {\n      iconStyle: {\n        borderColor: \"#999999\",\n      },\n      emphasis: {\n        iconStyle: {\n          borderColor: \"#666666\",\n        },\n      },\n    },\n    legend: {\n      textStyle: {\n        color: \"#999999\",\n      },\n    },\n    tooltip: {\n      axisPointer: {\n        lineStyle: {\n          color: \"#cccccc\",\n          width: 1,\n        },\n        crossStyle: {\n          color: \"#cccccc\",\n          width: 1,\n        },\n      },\n    },\n    timeline: {\n      lineStyle: {\n        color: \"#87f7cf\",\n        width: 1,\n      },\n      itemStyle: {\n        color: \"#87f7cf\",\n        borderWidth: 1,\n      },\n      controlStyle: {\n        color: \"#87f7cf\",\n        borderColor: \"#87f7cf\",\n        borderWidth: 0.5,\n      },\n      checkpointStyle: {\n        color: \"#fc97af\",\n        borderColor: \"#fc97af\",\n      },\n      label: {\n        color: \"#87f7cf\",\n      },\n      emphasis: {\n        itemStyle: {\n          color: \"#f7f494\",\n        },\n        controlStyle: {\n          color: \"#87f7cf\",\n          borderColor: \"#87f7cf\",\n          borderWidth: 0.5,\n        },\n        label: {\n          color: \"#87f7cf\",\n        },\n      },\n    },\n    visualMap: {\n      color: [\"#fc97af\", \"#87f7cf\"],\n    },\n    dataZoom: {\n      backgroundColor: \"rgba(255,255,255,0)\",\n      dataBackgroundColor: \"rgba(114,204,255,1)\",\n      fillerColor: \"rgba(114,204,255,0.2)\",\n      handleColor: \"#72ccff\",\n      handleSize: \"100%\",\n      textStyle: {\n        color: \"#333333\",\n      },\n    },\n    markPoint: {\n      label: {\n        color: \"#293441\",\n      },\n      emphasis: {\n        label: {\n          color: \"#293441\",\n        },\n      },\n    },\n  };\n};\n","import * as echarts from \"echarts\";\nimport { useEffect, useRef } from \"react\";\nimport { withResizeDetector } from \"react-resize-detector\";\nimport bcDark from \"./themes/bc-dark\";\n\nexport default withResizeDetector(function ECharts(props: any) {\n  const { option, width } = props;\n  const chartRef = useRef<HTMLDivElement>(null);\n  const echartsInstance = useRef<echarts.ECharts>();\n  useEffect(() => {\n    // 接听元素宽度变化\n    console.log(\"theme\", bcDark(option.theme), option.theme);\n\n    const chart = echarts.init(chartRef.current!, bcDark(option.theme));\n    chart.setOption(option);\n    if (props.refInstance) props.refInstance.current = chart;\n    echartsInstance.current = chart;\n    return () => {\n      chart.dispose();\n    };\n  }, [option, props.refInstance]);\n\n  useEffect(() => {\n    if (echartsInstance.current) {\n      echartsInstance.current.resize();\n    }\n  }, [width]);\n\n  return <div ref={chartRef} style={{ width: \"100%\", height: \"100%\" }}></div>;\n});\n","export function createEChartsOption(data: any[][], configRoot: any) {\n  const common = {\n    theme: configRoot.selectTheme,\n  };\n  const type = configRoot.mapType;\n  if (type === \"fieldCategory\") {\n    const echartsOption = {\n      ...common,\n      legend: when(configRoot.chartOptions.includes(\"showLegend\"), {\n        data: data[0]?.slice(1)?.map?.((item) => item.text),\n      }),\n      radar: {\n        // shape: 'circle',\n        indicator: data.slice(1).map((item) => {\n          return {\n            name: item[0].text,\n            // max: 10,\n          };\n        }),\n      },\n      series: [\n        {\n          name: \"Data\",\n          type: \"radar\",\n          data: data[0]?.slice(1)?.map?.((item, index) => {\n            return {\n              value: data.slice(1).map((item) => item[index + 1].value),\n              name: item.text,\n              label: when(configRoot.chartOptions.includes(\"showDataLabel\"), {\n                show: true,\n              }),\n            };\n          }),\n        },\n      ],\n    };\n    console.log(\"echartsOption\", echartsOption);\n\n    return echartsOption;\n  } else {\n    const echartsOption = {\n      ...common,\n      legend: when(configRoot.chartOptions.includes(\"showLegend\"), {\n        data: data.slice(1).map((item) => item[0].text),\n      }),\n      radar: {\n        // shape: 'circle',\n        indicator: data[0]?.slice(1)?.map((item) => {\n          return {\n            name: item.text,\n            // max: 10,\n          };\n        }),\n      },\n      series: [\n        {\n          name: \"Data\",\n          type: \"radar\",\n          data: data.slice(1).map((item) => {\n            return {\n              value: item.slice(1).map((item) => item.value),\n              name: item[0].text,\n              label: when(configRoot.chartOptions.includes(\"showDataLabel\"), {\n                show: true,\n              }),\n            };\n          }),\n        },\n      ],\n    };\n    console.log(\"echartsOption2\", echartsOption);\n\n    return echartsOption;\n  }\n}\n\nfunction when(cond: any, value: any) {\n  return cond ? value : undefined;\n}\n","import ECharts from \"@/components/echarts\";\nimport { useEffect, useState } from \"react\";\nimport { bsSdk } from \"./factory\";\nimport { createEChartsOption } from \"@/libs/helper/createEChartsOption\";\n\ntype ViewPanelProps = {};\n\nexport default function ViewPanel(props: ViewPanelProps) {\n  const [echartsOption, setEchartsOption] = useState({} as any);\n\n  async function updateEcharts(e?: any) {\n    const config = await bsSdk.getConfig();\n    const data = await bsSdk.getData();\n    console.log(\"getPreviewData\", config, data, e);\n    setEchartsOption(createEChartsOption(data, config.customConfig));\n    bsSdk.triggerDashRendered();\n  }\n\n  useEffect(() => {\n    updateEcharts();\n    const offs: (() => void)[] = [];\n    offs.push(bsSdk.emDashConfigChange.on(updateEcharts));\n    offs.push(bsSdk.emDashDataChange.on(updateEcharts));\n    return () => {\n      offs.forEach((off) => off());\n    };\n  }, []);\n\n  return (\n    <div style={{ width: \"100%\", height: \"100vh\" }}>\n      <ECharts option={echartsOption}></ECharts>\n    </div>\n  );\n}\n","import { Col, Input } from \"@douyinfe/semi-ui\";\nimport { useRef } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\n\nexport type ConfigStringOptions = {};\n\nexport type ConfigStringProps = ConfigItemProps<\"string\", ConfigStringOptions>;\n\nexport default function ConfigString(props: ConfigStringProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n  } = props;\n  const ref = useRef<any>();\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#333\" }}>\n        {label}\n      </div>\n      <Input\n        style={{ marginTop: \"5px\" }}\n        ref={ref}\n        defaultValue={defaultValue}\n        value={value}\n        type=\"text\"\n        onChange={(v) => onChange(target, field, v)}\n      />\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n    </div>\n  );\n}\n","import { Col, Input, Select } from \"@douyinfe/semi-ui\";\nimport { useEffect, useRef } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport ConfigObject from \"./ConfigObject\";\nimport type { Node, Scheme } from \"../types\";\nimport { getDefaultValue, type NodeTypes } from \"../ConfigRegister\";\n\nexport type ConfigSelectTabsOptions = {\n  label: string;\n  key: string;\n  value: Scheme[\"properties\"];\n}[];\n\nexport type ConfigSelectTabsProps = ConfigItemProps<\n  \"select-tabs\",\n  ConfigSelectTabsOptions\n>;\n\nexport default function ConfigSelectTabs(props: ConfigSelectTabsProps) {\n  const {\n    field,\n    label,\n    default: defaultKey,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n  } = props;\n\n  const subProperties =\n    options?.find?.((option) => option.key === value?.key)?.value || [];\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#333\" }}>\n        {label}\n      </div>\n      <Select\n        value={value?.key || defaultKey}\n        style={{ marginTop: 5, width: \"100%\" }}\n        optionList={options?.map((option) => ({\n          label: option.label,\n          value: option.key,\n        }))}\n        onChange={(v) => {\n          const subTarget = Object.assign({}, target[field]);\n          subTarget.key = v;\n          const nextProperties =\n            options?.find((option) => option.key === v)?.value || [];\n          subTarget.value = getDefaultValue({\n            type: \"object\",\n            field: \"\",\n            properties: nextProperties,\n          });\n          onChange(target, field, subTarget);\n        }}\n      ></Select>\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n      <div style={{ marginTop: \"0px\" }}>\n        <ConfigObject\n          field={\"\"}\n          value={value?.value}\n          target={value?.value}\n          onChange={(subTarget: any, subField: string, subVal: any) => {\n            value.value[subField] = subVal;\n            onChange(target, field, value);\n          }}\n          properties={subProperties}\n        ></ConfigObject>\n      </div>\n    </div>\n  );\n}\n","import { Col, Input, Select } from \"@douyinfe/semi-ui\";\nimport { useRef, type Key } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport styled from \"styled-components\";\n\nexport type ConfigSelectThemeOptions = {\n  label: string[];\n  value: string;\n}[];\n\nexport type ConfigSelectThemeProps = ConfigItemProps<\n  \"select-theme\",\n  ConfigSelectThemeOptions\n>;\n\nexport default function ConfigSelectTheme(props: ConfigSelectThemeProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n  } = props;\n\n  // console.log(props);\n\n  const renderSelectedItem = (p: any) => {\n    const colors = options?.find((item) => item.value === p.value)?.label || [];\n\n    return <ThemeColors style={{ height: 15 }} items={colors}></ThemeColors>;\n  };\n\n  const renderOptionItem = (p: any) => {\n    // console.log(p);\n\n    const colors = options?.find((item) => item.value === p.value)?.label || [];\n    return (\n      <div\n        style={{\n          width: \"97%\",\n          padding: \"3px 8px\",\n          margin: \"2px 5px\",\n          background: p.selected ? \"#f1f1fc\" : \"\",\n          borderRadius: \"4px\",\n        }}\n        onClick={p.onClick}\n      >\n        <ThemeColors\n          style={{\n            height: 15,\n            width: \"100%\",\n          }}\n          items={colors}\n        ></ThemeColors>\n      </div>\n    );\n  };\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#333\" }}>\n        {label}\n      </div>\n\n      <Select\n        placeholder=\"请选择主题色\"\n        style={{ width: \"100%\", marginTop: \"5px\" }}\n        onChange={(v) => {\n          onChange(target, field, v);\n        }}\n        value={value}\n        renderSelectedItem={renderSelectedItem}\n        renderOptionItem={renderOptionItem}\n      >\n        {options?.map((item, index) => (\n          <Select.Option key={item.value} value={item.value}></Select.Option>\n        ))}\n      </Select>\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n    </div>\n  );\n}\n\ntype ThemeColorProps = {\n  items: string[];\n  style: React.CSSProperties;\n};\n\nconst ColorContainer = styled.div`\n  display: flex;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ColorItem = styled.div`\n  height: 100%;\n  width: 30px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n\n  &:first-child {\n    border-radius: 4px 0 0 4px;\n  }\n  &:last-child {\n    border-radius: 0 4px 4px 0;\n  }\n`;\n\nfunction ThemeColors(props: ThemeColorProps) {\n  const { items, style } = props;\n  return (\n    <ColorContainer style={style}>\n      {items.map((item) => (\n        <ColorItem key={item} style={{ background: item }}></ColorItem>\n      ))}\n    </ColorContainer>\n  );\n}\n","import { CheckboxGroup, Col, Input } from \"@douyinfe/semi-ui\";\nimport { useRef } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\n\nexport type ConfigCheckboxesOptions = {\n  label: string;\n  value: string;\n}[];\n\nexport type ConfigCheckboxesProps = ConfigItemProps<\n  \"checkboxes\",\n  ConfigCheckboxesOptions\n>;\n\nexport default function ConfigCheckboxes(props: ConfigCheckboxesProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n  } = props;\n  const ref = useRef<any>();\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#333\" }}>\n        {label}\n      </div>\n\n      <CheckboxGroup\n        style={{ marginTop: \"5px\" }}\n        options={options}\n        direction=\"horizontal\"\n        aria-label={tip}\n        value={value}\n        onChange={(v) => {\n          target[field] = v;\n          onChange(target, field, v);\n        }}\n      />\n\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n    </div>\n  );\n}\n","import { Col, Divider, Input } from \"@douyinfe/semi-ui\";\nimport { useRef } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\n\nexport type ConfigLineOptions = {};\n\nexport type ConfigLineProps = ConfigItemProps<\"line\", ConfigLineOptions>;\n\nexport default function ConfigLine(props: ConfigLineProps) {\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <Divider></Divider>\n    </div>\n  );\n}\n","import ReactDOM from \"react-dom\";\n\nexport function mountPortal(\n  portal: string | undefined,\n  renderView: React.ReactNode\n) {\n  if (!portal) return renderView;\n  const target = document.querySelector(portal);\n  if (!target) return renderView;\n  return ReactDOM.createPortal(renderView, target);\n}\n","import { Col, Input, Select } from \"@douyinfe/semi-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport { IconChevronDown } from \"@douyinfe/semi-icons\";\nimport { mountPortal } from \"../utils/mountPortal\";\n\nexport type ConfigDownSelectOptions = {\n  label: string;\n  value: string;\n}[];\n\nexport type ConfigDownSelectProps = ConfigItemProps<\n  \"down-select\",\n  ConfigDownSelectOptions\n>;\n\nexport default function ConfigDownSelect(props: ConfigDownSelectProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n    portal,\n  } = props;\n  const ref = useRef<any>();\n  const [visible, setVisible] = useState(0);\n\n  useEffect(() => {\n    setVisible(Date.now());\n  }, []);\n\n  const triggerRender = ({ value, ...rest }: any) => {\n    return (\n      <div\n        style={{\n          minWidth: \"112\",\n          display: \"flex\",\n          alignItems: \"center\",\n          paddingLeft: 8,\n          marginRight: -8,\n          borderRadius: 3,\n        }}\n      >\n        <div\n          style={{\n            margin: 4,\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n            flexGrow: 1,\n            overflow: \"hidden\",\n            display: \"flex\",\n            alignItems: \"center\",\n          }}\n        >\n          {value.map((item: { label: any }) => item.label).join(\" , \")}\n          <IconChevronDown style={{ margin: \"0 8px\", flexShrink: 0 }} />\n        </div>\n      </div>\n    );\n  };\n\n  return !visible ? (\n    <></>\n  ) : (\n    mountPortal(\n      portal,\n      <Select\n        value={value}\n        onChange={(v) => {\n          onChange(target, field, v);\n        }}\n        triggerRender={triggerRender}\n        optionList={options}\n      ></Select>\n    )\n  );\n}\n","export function If({ condition, children }: { condition: any; children: any }) {\n  return condition ? children : null;\n}\nexport function Else({ children }: { children: any }) {\n  return children;\n}\nexport function ElseIf({\n  condition,\n  children,\n}: {\n  condition: any;\n  children: any;\n}) {\n  return condition ? children : null;\n}\n","import { Card, Col, Input, Popover, Select, Tooltip } from \"@douyinfe/semi-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport styled from \"styled-components\";\nimport {\n  IconClear,\n  IconHash,\n  IconMore,\n  IconPlus,\n  IconSearch,\n} from \"@douyinfe/semi-icons\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { useTranslation } from \"react-i18next\";\nimport ConfigDownSelect from \"./ConfigDownSelect\";\nimport { If } from \"../utils/If\";\n\nexport type ConfigFieldListOptions = {\n  list?: {\n    label: string;\n    value: string;\n  }[];\n  itemSelectOptions?: {\n    label: string;\n    value: string;\n  }[];\n};\n\nexport type ConfigFieldListProps = ConfigItemProps<\n  \"field-list\",\n  ConfigFieldListOptions\n>;\n\nexport default function ConfigFieldList(props: ConfigFieldListProps) {\n  const [t] = useTranslation();\n  const {\n    field,\n    label,\n    default: defaultValue = [],\n    value: scopeValue,\n    tip,\n    onChange,\n    target,\n    options,\n  } = props;\n  const list = options?.list || [];\n  const itemSelectOptions = options?.itemSelectOptions || [];\n\n  const optionsMap = list.reduce((acc, cur) => {\n    acc[cur.value] = cur.label;\n    return acc;\n  }, {} as any);\n\n  const [hideSearch, setHideSearch] = useState(true);\n  const [showTip, setShowTip] = useState(false);\n  const [showUpdate, setShowUpdate] = useState({} as any);\n  const [innerItemSelect, setInnerItemSelect] = useState(\n    itemSelectOptions?.[0]?.value\n  );\n\n  useEffect(() => {\n    setInnerItemSelect(itemSelectOptions?.[0]?.value);\n  }, [itemSelectOptions]);\n\n  const notAddedOptions = list.filter(\n    (item) => !scopeValue?.some((sv: any) => sv.value === item.value)\n  );\n\n  // useEffect(() => {\n  //   if (!scopeValue && defaultValue) {\n  //     onChange(target, field, defaultValue);\n  //   }\n  // }, [defaultValue, field, onChange, scopeValue, target]);\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div\n        style={{\n          fontSize: \"14px\",\n          fontWeight: \"bold\",\n          color: \"#333\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div style={{ flex: 1 }}>{label}</div>\n        <div>\n          <If condition={innerItemSelect}>\n            <ConfigDownSelect\n              field={\"\"}\n              value={innerItemSelect}\n              target={undefined}\n              options={itemSelectOptions}\n              onChange={function (_2: any, _3: string, val: any): void {\n                setInnerItemSelect(val);\n\n                onChange(\n                  target,\n                  field,\n                  scopeValue.map((v: any) => {\n                    return {\n                      value: v.value,\n                      select: val,\n                    };\n                  })\n                );\n              }}\n            ></ConfigDownSelect>\n          </If>\n        </div>\n      </div>\n      <div style={{ marginTop: 15 }}>\n        {scopeValue?.map(({ value, select }: any) => (\n          <div key={value}>\n            <FieldItem>\n              <IconHash\n                style={{ fontSize: 12, color: \"#646A73\", marginRight: 5 }}\n              />\n              <span style={{ flex: 1 }}>{optionsMap[value]}</span>\n              <If condition={itemSelectOptions.length}>\n                <span style={{ fontSize: 14, color: \"#8F959E\" }}>\n                  <Select\n                    value={select}\n                    onChange={(v2) => {\n                      onChange(\n                        target,\n                        field,\n                        scopeValue.map((v: any) =>\n                          v.value === value\n                            ? {\n                                value,\n                                select: v2,\n                              }\n                            : v\n                        )\n                      );\n                    }}\n                    triggerRender={({ value }: any) => {\n                      return <div>{value?.[0]?.label}</div>;\n                    }}\n                    optionList={itemSelectOptions}\n                  ></Select>\n                </span>\n              </If>\n              <Popover\n                showArrow\n                arrowPointAtCenter\n                position=\"bottomRight\"\n                clickToHide\n                style={{ width: 100, padding: 0 }}\n                content={\n                  <div>\n                    <MenuItem\n                      onClick={() => {\n                        setShowUpdate({\n                          [value]: true,\n                        });\n                      }}\n                    >\n                      {t(\"Update Field\")}\n                    </MenuItem>\n                    <MenuItem\n                      onClick={() => {\n                        target[field] = scopeValue.filter(\n                          (v: any) => v.value !== value\n                        );\n                        onChange(target, field, target[field]);\n                      }}\n                    >\n                      {t(\"Remove Field\")}\n                    </MenuItem>\n                    <MenuItem\n                      onClick={() => {\n                        const index = scopeValue\n                          .map((item: any) => item.value)\n                          .indexOf(value);\n                        if (index > 0) {\n                          const temp = scopeValue[index];\n                          scopeValue[index] = scopeValue[index - 1];\n                          scopeValue[index - 1] = temp;\n                          target[field] = scopeValue ? [...scopeValue] : [];\n                          onChange(target, field, target[field]);\n                        }\n                      }}\n                    >\n                      {t(\"Up Field\")}\n                    </MenuItem>\n                    <MenuItem\n                      onClick={() => {\n                        const index = scopeValue\n                          .map((item: any) => item.value)\n                          .indexOf(value);\n                        if (index < scopeValue.length - 1) {\n                          const temp = scopeValue[index];\n                          scopeValue[index] = scopeValue[index + 1];\n                          scopeValue[index + 1] = temp;\n                          target[field] = scopeValue ? [...scopeValue] : [];\n                          onChange(target, field, target[field]);\n                        }\n                      }}\n                    >\n                      {t(\"Down Field\")}\n                    </MenuItem>\n                  </div>\n                }\n              >\n                <IconMore\n                  style={{\n                    fontSize: 12,\n                    transform: \"rotate(90deg)\",\n                    color: \"#646A73\",\n                    marginLeft: 5,\n                  }}\n                />\n              </Popover>\n            </FieldItem>\n            {showUpdate[value] && (\n              <SearchList\n                list={notAddedOptions}\n                onClickItem={(v2) => {\n                  target[field] = scopeValue.map((v: any) =>\n                    v.value === value\n                      ? {\n                          value: v2,\n                          select: v.select,\n                        }\n                      : v\n                  );\n                  onChange(target, field, target[field]);\n                  showUpdate[value] = false;\n                  setShowUpdate({ ...showUpdate });\n                }}\n                onClose={() => {\n                  showUpdate[value] = false;\n                  setShowUpdate({ ...showUpdate });\n                }}\n              ></SearchList>\n            )}\n          </div>\n        ))}\n      </div>\n      <div style={{ marginTop: 10, userSelect: \"none\" }}>\n        <Tooltip\n          content={\n            <article>\n              <p>{t(\"only number field\")}</p>\n            </article>\n          }\n          arrowPointAtCenter={false}\n          trigger=\"custom\"\n          visible={showTip}\n        >\n          <Text\n            link={Boolean(notAddedOptions?.length)}\n            icon={<IconPlus style={{ fontSize: 14 }} />}\n            style={{ color: \"#aaa\" }}\n            onClick={() => {\n              if (notAddedOptions?.length) {\n                setHideSearch(false);\n              } else {\n                setShowTip(true);\n                setTimeout(() => {\n                  setShowTip(false);\n                }, 2000);\n              }\n            }}\n          >\n            添加字段\n          </Text>\n        </Tooltip>\n\n        {hideSearch || (\n          <SearchList\n            list={notAddedOptions}\n            onClickItem={(v, item) => {\n              target[field] = scopeValue\n                ? [\n                    ...scopeValue,\n                    { value: v, select: item?.select ?? innerItemSelect },\n                  ]\n                : [{ value: v, select: item?.select ?? innerItemSelect }];\n              onChange(target, field, target[field]);\n              setHideSearch(true);\n            }}\n            onClose={() => {\n              setHideSearch(true);\n            }}\n          ></SearchList>\n        )}\n      </div>\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n    </div>\n  );\n}\n\ntype SearchListProps = {\n  list?: ConfigFieldListOptions[\"list\"];\n  onClickItem?: (v: string, option: any) => void;\n  onClose?: () => void;\n};\nfunction SearchList(props: SearchListProps) {\n  const list = props?.list;\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const filterOptions =\n    list?.filter((item) =>\n      searchInput ? item.label.includes(searchInput) : true\n    ) || [];\n  return (\n    <Card\n      title={\n        <Input\n          prefix={<IconSearch />}\n          suffix={\n            <IconClear\n              onClick={() => {\n                setSearchInput(\"\");\n                props.onClose?.();\n              }}\n            />\n          }\n          showClear={false}\n          borderless\n          style={{ borderWidth: 0 }}\n          placeholder={\"搜索字段\"}\n          autoFocus\n          onChange={(e) => {\n            setSearchInput(e);\n          }}\n        ></Input>\n      }\n      shadows=\"always\"\n      style={{ marginTop: 5 }}\n      headerStyle={{ padding: 0 }}\n      bodyStyle={{ padding: 0 }}\n    >\n      {filterOptions?.map((option: any) => (\n        <FieldItem\n          key={option.value}\n          style={{ marginTop: 0, border: 0 }}\n          onClick={() => {\n            props?.onClickItem?.(option.value, option);\n          }}\n        >\n          <IconHash\n            style={{ fontSize: 12, color: \"#646A73\", marginRight: 5 }}\n          />\n          <span style={{ flex: 1 }}>{option.label}</span>\n        </FieldItem>\n      ))}\n    </Card>\n  );\n}\n\nconst FieldItem = styled.div`\n  /* margin-top: 10px; */\n  font-size: 14px;\n  height: 32px;\n  color: #1f2329;\n  display: flex;\n  align-items: center;\n  border: 1px solid #e1e3e6;\n  border-radius: 5px;\n  padding: 0 10px;\n  margin-top: 8px;\n`;\n\nconst MenuItem = styled.div`\n  padding: 8px 16px;\n  font-size: 14px;\n  color: #1f2329;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  &:hover {\n    background-color: #f4f5f7;\n  }\n`;\n","import { Col, Input, Row, Select } from \"@douyinfe/semi-ui\";\nimport { useEffect, useRef } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport styled from \"styled-components\";\nimport { IconHash } from \"@douyinfe/semi-icons\";\nimport ConfigObject from \"./ConfigObject\";\nimport { If } from \"../utils/If\";\n\nexport type ConfigSelectOptions = {\n  label: string;\n  value: string;\n}[];\n\nexport type ConfigSelectProps = ConfigItemProps<\"select\", ConfigSelectOptions>;\n\nexport default function ConfigSelect(props: ConfigSelectProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options = [],\n  } = props;\n\n  // console.log(\"ConfigSelect\", field, value, target);\n\n  const renderSelectedItem = (p: any) => {\n    return (\n      <div>\n        <div>{p.label === p.value ? \"\" : p.label}</div>\n      </div>\n    );\n  };\n\n  const renderOptionItem = (p: any) => {\n    return (\n      <SelectItem\n        style={{\n          width: \"97%\",\n          padding: \"3px 8px\",\n          margin: \"2px 5px\",\n          background: p.selected ? \"#f1f1fc\" : \"\",\n          borderRadius: \"4px\",\n        }}\n        onClick={p.onClick}\n      >\n        <IconHash style={{ color: \"#666\", marginRight: 8 }}></IconHash>\n        <div>{p.label}</div>\n      </SelectItem>\n    );\n  };\n\n  return (\n    <div style={{ paddingTop: \"10px\" }}>\n      <div\n        style={{\n          fontSize: \"14px\",\n          fontWeight: \"bold\",\n          color: \"#333\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div style={{ flex: 1 }}>{label}</div>\n        <div id={`${field}-right`}></div>\n      </div>\n      <If condition={options?.length}>\n        <Select\n          prefix={<IconHash style={{ color: \"#666\" }}></IconHash>}\n          placeholder=\"请选择\"\n          style={{ width: \"100%\", marginTop: \"5px\" }}\n          onChange={(v) => {\n            onChange(target, field, v);\n          }}\n          value={value}\n          renderSelectedItem={renderSelectedItem}\n          renderOptionItem={renderOptionItem}\n        >\n          {options?.map((item, index) => (\n            <Select.Option\n              key={item.value}\n              value={item.value}\n              label={item.label}\n            ></Select.Option>\n          ))}\n        </Select>\n      </If>\n      <If condition={!options?.length}>\n        <Select\n          placeholder=\"暂未选项\"\n          style={{ width: \"100%\", marginTop: \"5px\" }}\n        ></Select>\n      </If>\n      <div style={{ fontSize: \"12px\", marginTop: \"2px\", color: \"#666\" }}>\n        {tip}\n      </div>\n      <div id={field + \"-bottom\"}></div>\n    </div>\n  );\n}\n\nconst SelectItem = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 5px 10px;\n`;\n","import { Checkbox, Col, Input } from \"@douyinfe/semi-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { ConfigItemProps } from \"../ConfigItemProps\";\nimport { mountPortal } from \"../utils/mountPortal\";\n\nexport type ConfigCheckboxOptions = {};\n\nexport type ConfigCheckboxProps = ConfigItemProps<\n  \"checkbox\",\n  ConfigCheckboxOptions\n>;\n\nexport default function ConfigCheckbox(props: ConfigCheckboxProps) {\n  const {\n    field,\n    label,\n    default: defaultValue,\n    value,\n    tip,\n    onChange,\n    target,\n    options,\n    portal,\n  } = props;\n  const ref = useRef<any>();\n\n  return mountPortal(\n    portal,\n    <div style={{ marginTop: 5 }}>\n      <Checkbox\n        checked={value}\n        onChange={(e) => {\n          target[field] = e.target.checked;\n          onChange(target, field, e.target.checked);\n        }}\n        aria-label={label}\n        style={{ fontSize: \"12px\", color: \"#333\" }}\n      >\n        {label}\n      </Checkbox>\n    </div>\n  );\n}\n","import ConfigString, {\n  type ConfigStringOptions,\n  type ConfigStringProps,\n} from \"./item/ConfigString\";\nimport ConfigArray from \"./item/ConfigArray\";\nimport ConfigEnums from \"./item/ConfigEnums\";\nimport ConfigObject, { type ConfigObjectOptions } from \"./item/ConfigObject\";\nimport ConfigInteger from \"./item/ConfigInteger\";\nimport type { ConfigItemProps } from \"./ConfigItemProps\";\nimport type { ConfigSelectTabsOptions } from \"./item/ConfigSelectTabs\";\nimport ConfigSelectTabs from \"./item/ConfigSelectTabs\";\nimport type { ConfigSelectThemeOptions } from \"./item/ConfigSelectTheme\";\nimport ConfigSelectTheme from \"./item/ConfigSelectTheme\";\nimport type { ConfigCheckboxesOptions } from \"./item/ConfigCheckboxes\";\nimport ConfigCheckboxes from \"./item/ConfigCheckboxes\";\nimport ConfigLine from \"./item/ConfigLine\";\nimport ConfigFieldList, {\n  type ConfigFieldListOptions,\n} from \"./item/ConfigFieldList\";\nimport ConfigSelectField, {\n  type ConfigSelectOptions,\n} from \"./item/ConfigSelect\";\nimport type { Node, Scheme } from \"./types\";\nimport type { ConfigDownSelectOptions } from \"./item/ConfigDownSelect\";\nimport ConfigDownSelect from \"./item/ConfigDownSelect\";\nimport type { ConfigCheckboxOptions } from \"./item/ConfigCheckbox\";\nimport ConfigCheckbox from \"./item/ConfigCheckbox\";\n\nfunction reg<F>(fn: F) {\n  return fn;\n}\n\nexport const ConfigRegister = {\n  object: reg((p: ConfigObjectOptions) => ConfigObject),\n  string: reg((p: ConfigStringOptions) => ConfigString),\n  \"select-tabs\": reg((p: ConfigSelectTabsOptions) => ConfigSelectTabs),\n  \"select-theme\": reg((p: ConfigSelectThemeOptions) => ConfigSelectTheme),\n  checkboxes: reg((p: ConfigCheckboxesOptions) => ConfigCheckboxes),\n  line: reg(() => ConfigLine),\n  \"field-list\": reg((p: ConfigFieldListOptions) => ConfigFieldList),\n  select: reg((p: ConfigSelectOptions) => ConfigSelectField),\n  \"down-select\": reg((p: ConfigDownSelectOptions) => ConfigDownSelect),\n  checkbox: reg((p: ConfigCheckboxOptions) => ConfigCheckbox),\n};\n\nexport function getConfigRegister(type: NodeTypes): any {\n  if (!ConfigRegister[type]) {\n    console.error(`未找到注册的组件: ${type}`);\n  }\n  return (ConfigRegister[type] as any)();\n}\n\nexport type NodeTypes = keyof typeof ConfigRegister;\n\nexport type NodeOptions<T extends NodeTypes> = Parameters<\n  (typeof ConfigRegister)[T]\n>[0];\n\nexport function getDefaultValue(node: Node<NodeTypes>) {\n  const defaultValue = node.default;\n\n  if (node.type === \"object\") {\n    const obj = defaultValue || {};\n    const properties = node.properties || [];\n\n    return properties.reduce((acc, property) => {\n      if (!property.field) return acc;\n      acc[property.field] = getDefaultValue(property);\n      return acc;\n    }, obj);\n  }\n\n  return defaultValue;\n}\n\nexport function setSchemeByPath(\n  scheme: Scheme,\n  path: string,\n  node: Partial<Node<NodeTypes>>\n) {\n  const paths = path.split(\".\");\n  let current: any = scheme;\n  for (let i = 0; i < paths.length; i++) {\n    const p = paths[i];\n    const currentNode = current.properties?.find(\n      (item: any) => item.field === p\n    );\n    if (!currentNode) {\n      console.error(`未找到路径: ${path}`);\n      break;\n    }\n    current = currentNode;\n  }\n  Object.assign(current, node);\n  return {\n    scheme,\n    current,\n  };\n}\n\nexport function getSchemeByPath(scheme: Scheme, path: string) {\n  const paths = path.split(\".\");\n  let current: any = scheme;\n  for (let i = 0; i < paths.length; i++) {\n    const p = paths[i];\n    const currentNode = current.properties?.find(\n      (item: any) => item.field === p\n    );\n    if (!currentNode) {\n      console.error(`未找到路径: ${path}`);\n      return;\n    }\n    current = currentNode;\n  }\n  return current;\n}\n","import { Row } from \"@douyinfe/semi-ui\";\nimport { ConfigRegister, getConfigRegister } from \"../ConfigRegister\";\nimport type { ConfigItemProps } from \"../ConfigItemProps\";\nimport { useEffect } from \"react\";\n\nexport type ConfigObjectOptions = {};\n\nexport type ConfigObjectProps = ConfigItemProps<\"object\", ConfigObjectOptions>;\n\nexport default function ConfigObject(props: ConfigObjectProps) {\n  const {\n    properties,\n    label,\n    field,\n    default: defaultValue,\n    value,\n    onChange,\n    target,\n    style,\n  } = props;\n\n  // useEffect(() => {\n  //   if (!field) return;\n  //   console.log(\"ConfigObject onChange\", JSON.stringify(target), field, value);\n\n  //   if (!value) {\n  //     onChange(target, field, defaultValue);\n  //   }\n  // }, []);\n\n  // console.log(\"ConfigObject\", [field, value, target]);\n\n  return properties?.length ? (\n    <div style={Object.assign({}, style)}>\n      {label && <div style={{ marginBottom: \"10px\" }}>{label}</div>}\n      {properties?.map((item: any) => {\n        const Component = getConfigRegister(item.type);\n        return (\n          <Component\n            {...item}\n            value={value?.[item.field]}\n            key={field + \".\" + item.field}\n            target={value}\n            onChange={(subTarget: any, subField: string, subVal: any) => {\n              if (!subTarget) {\n                subTarget = {};\n              }\n              subTarget[subField] = subVal;\n              onChange(target, field, subTarget);\n            }}\n          ></Component>\n        );\n      })}\n    </div>\n  ) : (\n    <></>\n  );\n}\n","import { useEffect } from \"react\";\nimport ConfigObject, { type ConfigObjectProps } from \"./item/ConfigObject\";\nimport type { Node, Scheme } from \"./types\";\nimport { getDefaultValue } from \"./ConfigRegister\";\nimport deepmerge from \"deepmerge\";\n\ntype ConfigUIProps<Value extends Record<string, unknown>> = {\n  scheme: Scheme;\n  value: Value;\n  onChange?: (target: any, field: string, val: any) => void;\n};\n\nexport default function ConfigUI<Value extends Record<string, unknown>>(\n  props: ConfigUIProps<Value>\n) {\n  useEffect(() => {\n    const defaultValue = getDefaultValue(props.scheme);\n    const newValue: any = props.value[props.scheme.field]\n      ? {\n          [props.scheme.field]: props.value[props.scheme.field],\n        }\n      : {\n          [props.scheme.field]: {},\n        };\n    const mergeValue = deepmerge(defaultValue, newValue[props.scheme.field], {\n      arrayMerge: (dest, source) => source,\n    });\n    newValue[props.scheme.field] = mergeValue;\n    console.log(\"ConfigUI onChange\", defaultValue, mergeValue);\n    props.onChange?.(props.value, props.scheme.field, mergeValue);\n  }, [props.scheme]);\n  return (\n    <ConfigObject\n      label={props.scheme.label}\n      field={props.scheme.field}\n      properties={props.scheme.properties}\n      value={props.value[props.scheme.field]}\n      options={props.scheme.options}\n      target={props.value}\n      onChange={(target: any, field: string, val: any) => {\n        props.onChange?.(target, field, val);\n      }}\n    ></ConfigObject>\n  );\n}\n","export function tranBIData(tables: any[]) {\n  return tables.map((table) => {\n    return {\n      value: table.id,\n      label: table.name,\n      type: table.type,\n    };\n  });\n}\n","import type { Node, Scheme } from \"@/components/config-ui/types\";\nimport { theme } from \"@/config/options\";\n\nexport const createScheme = (mapType: \"fieldCategory\" | \"recordCategory\") => {\n  const mapOptions = [\n    {\n      label: \"以字段为类别，以记录聚合为系列\",\n      key: \"fieldCategory\",\n      value: [\n        {\n          label: \"类别\",\n          field: \"cates\",\n          type: \"field-list\",\n          options: {\n            list: [],\n            // list: [\n            //   {\n            //     label: \"字段1\",\n            //     value: \"field1\",\n            //     select: \"max\",\n            //   },\n            //   {\n            //     label: \"字段2\",\n            //     value: \"field2\",\n            //     select: \"max\",\n            //   },\n            //   {\n            //     label: \"字段3\",\n            //     value: \"field3\",\n            //     select: \"max\",\n            //   },\n            //   {\n            //     label: \"字段4\",\n            //     value: \"field4\",\n            //     select: \"max\",\n            //   },\n            //   {\n            //     label: \"字段5\",\n            //     value: \"field5\",\n            //     select: \"max\",\n            //   },\n            // ],\n          },\n          default: [\n            // {\n            //   value: \"field1\",\n            //   select: \"max\",\n            // },\n          ],\n        },\n        {\n          label: \"系列\",\n          field: \"series\",\n          type: \"select\",\n          options: [],\n          // options: [\n          //   {\n          //     label: \"字段1\",\n          //     value: \"field1\",\n          //   },\n          //   {\n          //     label: \"字段2\",\n          //     value: \"field2\",\n          //   },\n          //   {\n          //     label: \"字段3\",\n          //     value: \"field3\",\n          //   },\n          //   {\n          //     label: \"字段4\",\n          //     value: \"field4\",\n          //   },\n          //   {\n          //     label: \"字段5\",\n          //     value: \"field5\",\n          //   },\n          // ],\n          default: [],\n        },\n        {\n          portal: \"#series-right\",\n          label: \"计算方式\",\n          field: \"calc\",\n          type: \"down-select\",\n          options: [\n            {\n              label: \"最大值\",\n              value: \"MAX\",\n            },\n            {\n              label: \"最小值\",\n              value: \"MIN\",\n            },\n            {\n              label: \"求和\",\n              value: \"SUM\",\n            },\n            {\n              label: \"平均值\",\n              value: \"AVERAGE\",\n            },\n          ],\n          default: \"MAX\",\n        },\n      ],\n    },\n    {\n      label: \"以记录聚合为类别，以字段为系列\",\n      key: \"recordCategory\",\n      value: [\n        {\n          label: \"类别\",\n          field: \"cate\",\n          type: \"select\",\n          // default: \"field2\",\n          // options: [\n          //   {\n          //     label: \"字段1\",\n          //     value: \"field1\",\n          //   },\n          //   {\n          //     label: \"字段2\",\n          //     value: \"field2\",\n          //   },\n          //   {\n          //     label: \"字段3\",\n          //     value: \"field3\",\n          //   },\n          //   {\n          //     label: \"字段4\",\n          //     value: \"field4\",\n          //   },\n          //   {\n          //     label: \"字段5\",\n          //     value: \"field5\",\n          //   },\n          // ],\n        },\n        {\n          label: \"系列\",\n          field: \"series\",\n          type: \"field-list\",\n          // options: {\n          //   list: [\n          //     {\n          //       label: \"字段1\",\n          //       value: \"field1\",\n          //       select: \"max\",\n          //     },\n          //     {\n          //       label: \"字段2\",\n          //       value: \"field2\",\n          //       select: \"max\",\n          //     },\n          //     {\n          //       label: \"字段3\",\n          //       value: \"field3\",\n          //       select: \"max\",\n          //     },\n          //     {\n          //       label: \"字段4\",\n          //       value: \"field4\",\n          //       select: \"max\",\n          //     },\n          //     {\n          //       label: \"字段5\",\n          //       value: \"field5\",\n          //       select: \"max\",\n          //     },\n          //   ],\n          //   itemSelectOptions: [\n          //     {\n          //       label: \"最大值\",\n          //       value: \"max\",\n          //     },\n          //     {\n          //       label: \"最小值\",\n          //       value: \"min\",\n          //     },\n          //     {\n          //       label: \"求和\",\n          //       value: \"sum\",\n          //     },\n          //     {\n          //       label: \"平均值\",\n          //       value: \"avg\",\n          //     },\n          //   ],\n          // },\n          // default: [\n          //   {\n          //     value: \"field1\",\n          //     select: \"max\",\n          //   },\n          // ],\n        },\n      ],\n    },\n  ];\n  return {\n    field: \"root\",\n    type: \"object\",\n    properties: [\n      {\n        field: \"tableId\",\n        label: \"数据源\",\n        type: \"select\",\n        options: [],\n        // tip: \"这是一个标题\",\n      },\n      {\n        field: \"dataRange\",\n        label: \"数据范围\",\n        type: \"select\",\n        options: [],\n        // tip: \"这是一个标题\",\n      },\n      {\n        field: \"selectTheme\",\n        label: \"主题色\",\n        type: \"select-theme\",\n        default: \"p1\",\n        // tip: \"这是一个标题\",\n        options: theme.light,\n      },\n      {\n        label: \"图表选项\",\n        field: \"chartOptions\",\n        type: \"checkboxes\",\n        options: [\n          {\n            label: \"图例\",\n            value: \"showLegend\",\n          },\n          {\n            label: \"数据标签\",\n            value: \"showDataLabel\",\n          },\n        ],\n        default: [\"showLegend\", \"showDataLabel\"],\n        // tip: \"添加一个表格组件\",\n      },\n      {\n        field: \"\",\n        type: \"line\",\n      },\n      {\n        label: \"数据映射\",\n        field: \"mapType\",\n        type: \"select\",\n        options: mapOptions.map((item) => ({\n          label: item.label,\n          value: item.key,\n        })),\n        default: \"fieldCategory\",\n      },\n      {\n        field: \"mapOptions\",\n        // label: \"数据映射配置\",\n        type: \"object\",\n        default: {},\n        properties: mapOptions.find((item) => item.key === mapType)?.value,\n      },\n    ],\n  } as Scheme;\n};\n\nexport const example = {\n  tableId: \"table1\",\n  dataRange: \"view1\",\n  selectTheme: \"p1\",\n  chartOptions: [\"showLegend\"],\n  dataOptions: {\n    // key: \"recordCategory\",\n    // value: {\n    //   cates: [\n    //     {\n    //       value: \"field1\",\n    //       select: \"max\",\n    //     },\n    //   ],\n    //   cate: \"field1\",\n    //   calc: \"max\",\n    //   // series: \"field1\",\n    // },\n    key: \"recordCategory\",\n    value: {\n      cate: \"field2\",\n      series: [\n        {\n          value: \"field1\",\n          select: \"max\",\n        },\n      ],\n    },\n  },\n};\n","import { useTranslation } from \"next-i18next\";\nimport ConfigUI from \"@/components/config-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"@douyinfe/semi-ui\";\nimport type { Scheme } from \"@/components/config-ui/types\";\nimport { tranBIData } from \"@/libs/helper/config-ui\";\nimport { createScheme } from \"@/components/config-ui/options\";\nimport {\n  getDefaultValue,\n  getSchemeByPath,\n  setSchemeByPath,\n} from \"@/components/config-ui/ConfigRegister\";\nimport {\n  DATA_SOURCE_SORT_TYPE,\n  FieldType,\n  GroupMode,\n  ORDER,\n  SourceType,\n  type IConfig,\n} from \"@lark-base-open/js-sdk\";\nimport ECharts from \"@/components/echarts\";\nimport { createEChartsOption } from \"../../libs/helper/createEChartsOption\";\nimport { bsSdk } from \"./factory\";\n\nexport type ConfigPanelProps = {};\n\nexport default function ConfigPanel(props: ConfigPanelProps) {\n  const [t, i18n] = useTranslation();\n  const [configValue, setConfigValue] = useState({ root: {} as any });\n  const [scheme, setScheme] = useState<Scheme>({\n    type: \"object\",\n    field: \"\",\n  });\n  const [initd, setInitd] = useState(false);\n  const [echartsOption, setEchartsOption] = useState({} as any);\n  const fieldTypeMapRef = useRef<{ [key: string]: FieldType }>({});\n\n  useEffect(() => {\n    async function updatePreview() {\n      const config = getConfig();\n      if (!config) {\n        return;\n      }\n      const data = await bsSdk.getPreviewData(config.dataConditions as any);\n      console.log(\"getPreviewData\", data);\n      setEchartsOption(createEChartsOption(data, config.customConfig));\n      bsSdk.triggerDashRendered();\n    }\n    updatePreview();\n  }, [configValue]);\n\n  useEffect(() => {\n    async function initConfigValue() {\n      const config = await bsSdk.getConfig();\n      console.log(\"getConfig\", config);\n      const customConfig = config.customConfig;\n      setConfigValue({ root: customConfig });\n    }\n    if (initd) {\n      console.log(\"configValue\", configValue);\n      initConfigValue();\n    }\n  }, [initd]);\n\n  useEffect(() => {\n    async function init() {\n      const tables = await bsSdk.getTableList();\n      console.log(\"getTableList\", tables);\n      const o1 = tranBIData(tables);\n      const newScheme = createScheme(\"fieldCategory\");\n      setSchemeByPath(newScheme, \"tableId\", {\n        default: o1[0].value,\n        options: o1,\n      });\n      setScheme(newScheme);\n    }\n    init();\n  }, []);\n\n  useEffect(() => {\n    async function updateViews() {\n      const { tableId } = configValue.root;\n      if (tableId) {\n        const table = tableId;\n        console.log(\"tableId\", table);\n\n        const views = await bsSdk.getViewList(table);\n\n        const options = tranBIData(views).map((view) => {\n          return {\n            value: JSON.stringify({\n              viewId: view.value,\n              viewName: view.label,\n              type: SourceType.VIEW,\n            }),\n            label: view.label,\n          };\n        });\n        const defaultView = options[0].value;\n\n        // console.log(\"getViewList\", views);\n        setSchemeByPath(scheme, \"dataRange\", {\n          options,\n          default: defaultView,\n        });\n\n        setConfigValue({\n          root: { ...configValue.root, dataRange: defaultView },\n        });\n        setScheme({ ...scheme });\n      }\n    }\n    updateViews();\n  }, [configValue?.root?.tableId]);\n\n  useEffect(() => {\n    async function updateFields() {\n      console.log(\"updateFields\", configValue.root.dataRange);\n      if (!configValue.root.dataRange) {\n        return;\n      }\n      const dataRange = JSON.parse(configValue.root.dataRange);\n      const fields = await bsSdk.getFiledListByViewId(\n        configValue.root.tableId,\n        dataRange.viewId\n      );\n      console.log(\"getFieldList\", fields);\n\n      const fieldsOptions = tranBIData(fields);\n\n      for (let i = 0; i < fieldsOptions.length; i++) {\n        const field = fieldsOptions[i];\n        fieldTypeMapRef.current[field.value] = field.type;\n      }\n\n      if (configValue?.root?.mapType === \"fieldCategory\") {\n        setSchemeByPath(scheme, \"mapOptions.cates\", {\n          options: {\n            list: fieldsOptions.filter(\n              (field) => field.type === FieldType.Number\n            ),\n          },\n        });\n        setSchemeByPath(scheme, \"mapOptions.series\", {\n          options: fieldsOptions,\n          default: fieldsOptions[0].value,\n        });\n        const mapOptions = getSchemeByPath(scheme, \"mapOptions\");\n        setConfigValue({\n          root: {\n            ...configValue.root,\n            mapOptions: getDefaultValue(mapOptions),\n          },\n        });\n      } else {\n        setSchemeByPath(scheme, \"mapOptions.cate\", {\n          options: fieldsOptions,\n          default: fieldsOptions[0].value,\n        });\n        setSchemeByPath(scheme, \"mapOptions.series\", {\n          options: {\n            list: fieldsOptions.filter(\n              (item) => item.type === FieldType.Number\n            ),\n            itemSelectOptions: [\n              {\n                label: \"最大值\",\n                value: \"MAX\",\n              },\n              {\n                label: \"最小值\",\n                value: \"MIN\",\n              },\n              {\n                label: \"求和\",\n                value: \"SUM\",\n              },\n              {\n                label: \"平均值\",\n                value: \"AVERAGE\",\n              },\n            ],\n          },\n          default: [],\n        });\n        const mapOptions = getSchemeByPath(scheme, \"mapOptions\");\n        setConfigValue({\n          root: {\n            ...configValue.root,\n            mapOptions: getDefaultValue(mapOptions),\n          },\n        });\n      }\n\n      setScheme({ ...scheme });\n      setInitd(true);\n    }\n    updateFields();\n  }, [configValue?.root?.dataRange, configValue?.root?.mapType]);\n\n  useEffect(() => {\n    setScheme((oldScheme) => {\n      const newScheme = oldScheme;\n      const mapOptions = getSchemeByPath(\n        createScheme(configValue.root.mapType),\n        \"mapOptions\"\n      );\n      setConfigValue({\n        root: {\n          ...configValue.root,\n          mapOptions: getDefaultValue(mapOptions),\n        },\n      });\n      setSchemeByPath(newScheme, \"mapOptions\", mapOptions);\n      return newScheme;\n    });\n  }, [configValue?.root?.mapType]);\n\n  useEffect(() => {\n    if (configValue.root.mapType === \"fieldCategory\") {\n      const fieldId = configValue?.root?.mapOptions?.series;\n      if (fieldTypeMapRef.current[fieldId] === FieldType.MultiSelect) {\n        const node = getSchemeByPath(scheme, \"mapOptions\");\n\n        node.properties[2] = {\n          type: \"checkbox\",\n          field: \"checkSplit\",\n          label: \"多项式拆分统计\",\n          default: false,\n          portal: \"#series-bottom\",\n        };\n        node.properties.length = 3;\n\n        setScheme({ ...scheme });\n      } else {\n        const node = getSchemeByPath(scheme, \"mapOptions\");\n        if (node) {\n          node.properties.length = 2;\n          setScheme({ ...scheme });\n        }\n      }\n    } else {\n      const fieldId = configValue?.root?.mapOptions?.cate;\n      if (fieldTypeMapRef.current[fieldId] === FieldType.MultiSelect) {\n        const node = getSchemeByPath(scheme, \"mapOptions\");\n\n        node.properties[2] = {\n          type: \"checkbox\",\n          field: \"checkSplit\",\n          label: \"多项式拆分统计\",\n          default: false,\n          portal: \"#cate-bottom\",\n        };\n        node.properties.length = 3;\n\n        setScheme({ ...scheme });\n      } else {\n        const node = getSchemeByPath(scheme, \"mapOptions\");\n        if (node) {\n          node.properties.length = 2;\n          setScheme({ ...scheme });\n        }\n      }\n    }\n  }, [\n    configValue?.root?.mapOptions?.cate,\n    configValue?.root?.mapOptions?.series,\n  ]);\n\n  const getConfig = () => {\n    if (!configValue.root.dataRange) {\n      return;\n    }\n    if (configValue.root.mapType === \"fieldCategory\") {\n      const config: IConfig = {\n        dataConditions: {\n          tableId: configValue.root.tableId,\n          dataRange: JSON.parse(configValue.root.dataRange),\n          groups: [\n            {\n              fieldId: configValue.root.mapOptions.series,\n              sort: {\n                order: ORDER.ASCENDING,\n                sortType: DATA_SOURCE_SORT_TYPE.VIEW,\n              },\n              mode: configValue.root.mapOptions.checkSplit\n                ? GroupMode.ENUMERATED\n                : GroupMode.INTEGRATED,\n            },\n          ],\n          series: configValue.root.mapOptions.cates.map((cate: any) => {\n            return {\n              fieldId: cate.value,\n              rollup: configValue.root.mapOptions.calc,\n            };\n          }),\n        },\n        customConfig: configValue.root,\n      };\n      return config;\n    } else if (configValue.root.mapType === \"recordCategory\") {\n      if (!configValue.root.mapOptions.series) {\n        console.error(\"series is empty\");\n        return;\n      }\n      const config: IConfig = {\n        dataConditions: {\n          tableId: configValue.root.tableId,\n          dataRange: JSON.parse(configValue.root.dataRange),\n          groups: [\n            {\n              fieldId: configValue.root.mapOptions.cate,\n              sort: {\n                order: ORDER.ASCENDING,\n                sortType: DATA_SOURCE_SORT_TYPE.VIEW,\n              },\n              mode: configValue.root.mapOptions.checkSplit\n                ? GroupMode.ENUMERATED\n                : GroupMode.INTEGRATED,\n            },\n          ],\n          series: configValue.root.mapOptions.series.map((series: any) => {\n            return {\n              fieldId: series.value,\n              rollup: series.select,\n            };\n          }),\n        },\n        customConfig: configValue.root,\n      };\n      return config;\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        height: \"100vh\",\n        overflow: \"hidden\",\n        borderTop: \"1px solid #eee\",\n        // marginTop: 50,\n      }}\n    >\n      <div style={{ flex: 1, padding: 20 }}>\n        <ECharts option={echartsOption}></ECharts>\n      </div>\n      <div\n        style={{\n          width: \"30%\",\n          padding: \"0 20px\",\n          overflow: \"scroll\",\n          borderLeft: \"1px solid #eee\",\n        }}\n      >\n        <ConfigUI\n          scheme={scheme}\n          value={configValue}\n          onChange={(target, field, value) => {\n            console.log(\"Root onChange\", target, field, value);\n\n            target[field] = value;\n            setConfigValue({ ...target });\n          }}\n        ></ConfigUI>\n        <div style={{ height: 200 }}></div>\n        <div\n          style={{\n            position: \"fixed\",\n            bottom: 20,\n            right: 20,\n            display: \"flex\",\n            background: \"#fff\",\n          }}\n        >\n          {/* <Button style={{ width: 80, marginRight: 10 }} type=\"tertiary\">\n            取消\n          </Button> */}\n          <Button\n            type=\"primary\"\n            theme=\"solid\"\n            style={{ width: 80 }}\n            onClick={() => {\n              const config = getConfig();\n              if (!config) {\n                console.error(\"config is empty\");\n                return;\n              }\n              bsSdk.saveConfig(config).then((res) => {\n                console.log(\"setConfig\", res);\n              });\n            }}\n          >\n            确定\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useTranslation } from \"next-i18next\";\nimport { BsSdk } from \"@/libs/bs-sdk/BsSdk\";\nimport { useRouter } from \"next/router\";\nimport ConfigUI from \"@/components/config-ui\";\nimport { useEffect, useState } from \"react\";\nimport { Button } from \"@douyinfe/semi-ui\";\nimport type { Scheme } from \"@/components/config-ui/types\";\nimport { tranBIData } from \"@/libs/helper/config-ui\";\nimport { createScheme } from \"@/components/config-ui/options\";\nimport {\n  getDefaultValue,\n  getSchemeByPath,\n  setSchemeByPath,\n} from \"@/components/config-ui/ConfigRegister\";\nimport {\n  DATA_SOURCE_SORT_TYPE,\n  DashboardState,\n  GroupMode,\n  ORDER,\n  SourceType,\n  type IConfig,\n} from \"@lark-base-open/js-sdk\";\nimport ECharts from \"@/components/echarts\";\nimport { bsSdk } from \"./factory\";\nimport ViewPanel from \"./ViewPanel\";\nimport ConfigPanel from \"./ConfigPanel\";\n\nconst mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\nfunction matchMode(e: any) {\n  const body = document.body;\n  if (e.matches) {\n    if (!body.hasAttribute(\"theme-mode\")) {\n      body.setAttribute(\"theme-mode\", \"dark\");\n    }\n  } else {\n    if (body.hasAttribute(\"theme-mode\")) {\n      body.removeAttribute(\"theme-mode\");\n    }\n  }\n}\n\nmql.addEventListener(\"change\", matchMode);\n\nexport default function App() {\n  switch (bsSdk.getDashState()) {\n    case DashboardState.View:\n      return ViewPanel({});\n    case DashboardState.FullScreen:\n      document.body.setAttribute(\"theme-mode\", \"dark\");\n\n      return ViewPanel({});\n    default:\n      return ConfigPanel({});\n  }\n}\n"],"names":["Emitter","size","events","emitSync","_len","arguments","length","args","_key","p","forEach","_cb_lastCall","lastCall","cb","interval","Date","now","push","emitLifeCycle","lastEmitArgs","Promise","resolve","then","error","reject","emit","timer","clearTimeout","setTimeout","debounce","on","add","off","wait","clear","delete","destroy","constructor","Set","BsSdk","saveConfig","config","bitable","dashboard","getConfig","getData","getPreviewData","dataCondition","getDashState","state","triggerDashRendered","setRendered","getRecordIds","table","getActiveTable","getRecordIdList","getRecordById","recordId","activeTable","base","getTableList","all","map","name","getName","id","raw","getViewList","tableId","getTableById","viewList","view","getFiledListByViewId","viewId","_ref","getViewById","getFieldMetaList","field","type","getSelection","getSelectionQuery","selection","undefined","fieldId","getFieldById","record","getSelection2","getRecordList","filter","pageToken","records","res","getRecords","pageSize","hasMore","getDisplayRecordList","fields","list","console","log","data","i","item","_id","transDisplayRecord","obj","cell","FieldType","DateTime","property","format","dateFormat","Url","link","text","join","_raw_","onSelectionChange","immediatelySelectionChange","onDashDataChange","onDashConfigChange","emSelectionChange","emDashDataChange","emDashConfigChange","event","onDataChange","onConfigChange","bsSdk","label","value","bc_dark","themeItem","theme","find","themeKey","color","backgroundColor","textStyle","title","subtextStyle","line","itemStyle","borderWidth","lineStyle","width","symbolSize","symbol","smooth","radar","bar","barBorderWidth","barBorderColor","pie","borderColor","scatter","boxplot","parallel","sankey","funnel","gauge","candlestick","color0","borderColor0","graph","areaColor","emphasis","geo","categoryAxis","axisLine","show","axisTick","axisLabel","splitLine","splitArea","areaStyle","valueAxis","logAxis","timeAxis","toolbox","iconStyle","legend","tooltip","axisPointer","crossStyle","timeline","controlStyle","checkpointStyle","visualMap","dataZoom","dataBackgroundColor","fillerColor","handleColor","handleSize","markPoint","components_echarts","withResizeDetector","props","option","chartRef","useRef","echartsInstance","useEffect","bcDark","chart","echarts","current","setOption","refInstance","dispose","resize","jsx_runtime","jsx","div","ref","style","height","createEChartsOption","configRoot","common","selectTheme","mapType","echartsOption","when","chartOptions","includes","slice","indicator","series","index","cond","ViewPanel","setEchartsOption","useState","updateEcharts","e","customConfig","offs","ECharts","ConfigString","default","defaultValue","tip","onChange","target","options","jsxs","paddingTop","fontSize","fontWeight","Input","marginTop","v","ConfigSelectTabs","defaultKey","subProperties","key","Select","optionList","subTarget","Object","assign","nextProperties","getDefaultValue","properties","ConfigObject","subField","subVal","ConfigSelectTheme","placeholder","renderSelectedItem","colors","ThemeColors","items","renderOptionItem","padding","margin","background","selected","borderRadius","onClick","Option","ColorContainer","styled","_templateObject","ColorItem","_templateObject1","ConfigCheckboxes","CheckboxGroup","direction","aria-label","ConfigLine","Divider","mountPortal","portal","renderView","document","querySelector","ReactDOM","ConfigDownSelect","visible","setVisible","triggerRender","rest","param","minWidth","display","alignItems","paddingLeft","marginRight","whiteSpace","textOverflow","flexGrow","overflow","IconChevronDown","flexShrink","Fragment","If","condition","children","ConfigFieldList","itemSelectOptions","t","useTranslation","scopeValue","optionsMap","reduce","acc","cur","hideSearch","setHideSearch","showTip","setShowTip","showUpdate","setShowUpdate","innerItemSelect","setInnerItemSelect","notAddedOptions","some","sv","flex","_2","_3","val","select","FieldItem","IconHash","span","v2","Popover","showArrow","arrowPointAtCenter","position","clickToHide","content","MenuItem","indexOf","temp","IconMore","transform","marginLeft","SearchList","onClickItem","onClose","userSelect","Tooltip","article","trigger","Text","Boolean","icon","IconPlus","searchInput","setSearchInput","filterOptions","Card","prefix","IconSearch","suffix","IconClear","showClear","borderless","autoFocus","shadows","headerStyle","bodyStyle","border","ConfigFieldList_templateObject","ConfigFieldList_templateObject1","ConfigSelect","concat","SelectItem","ConfigSelect_templateObject","ConfigCheckbox","Checkbox","checked","ConfigRegister","object","string","checkboxes","ConfigSelectField","checkbox","node","setSchemeByPath","scheme","path","paths","split","currentNode","getSchemeByPath","marginBottom","Component","react","createElement","ConfigUI","newValue","mergeValue","deepmerge","arrayMerge","dest","source","tranBIData","tables","createScheme","mapOptions","App","DashboardState","View","FullScreen","body","setAttribute","ConfigPanel","configValue","i18n","setConfigValue","root","setScheme","initd","setInitd","fieldTypeMapRef","updatePreview","dataConditions","initConfigValue","init","o1","newScheme","updateViews","JSON","stringify","viewName","SourceType","VIEW","defaultView","dataRange","updateFields","parse","fieldsOptions","Number","oldScheme","MultiSelect","cate","groups","sort","order","ORDER","ASCENDING","sortType","DATA_SOURCE_SORT_TYPE","mode","checkSplit","GroupMode","ENUMERATED","INTEGRATED","cates","rollup","calc","flexDirection","borderTop","borderLeft","bottom","right","Button","mql","matchMedia","addEventListener","matches","hasAttribute","removeAttribute"],"sourceRoot":""}